<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Earthworm System: wftimefilter commands</title>
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(250, 223, 175);"
 alink="#ff0000" link="#0000ee" vlink="#551a8b">
<center>
<h1> <br>
wftimefilter Configuration File</h1>
<i>(last revised June 1, 2006)</i> </center>
<p>wftimefilter is a TRACEBUF filtering module designed to sanitize
incoming waveform packets that might be out of order or duplicated or
overlapping. Below is a copy of the .d file with detailed notes on each
parameter
</p>
<pre># wftimefilter configuration file<br><br># Basic Earthworm setup:<br>#-----------------------<br> MyModuleId    MOD_WFTIMEFILTER # module id for this instance of wftimefilter <br> InRing        RAW_RING         # shared memory ring for input<br> OutRing       WAVE_RING        # shared memory ring for output<br> HeartbeatInt  30               # seconds between heartbeats to statmgr<br> LogFile       1                # 0 log to stderr/stdout only <br>                                # 1 log to stderr/stdout and to disk file<br>                                # 2 log to disk file only<br><br># List the message logos to grab from InRing, WILDCARDs permitted.<br># Multiple "GetLogo" commands are allowed, with no hardcoded limit.<br># The four valid message types are:<br># TYPE_TRACEBUF, TYPE_TRACEBUF2, TYPE_TRACE_COMP_UA, TYPE_TRACE2_COMP_UA<br>#         Installation   Module        Message Types<br>#-----------------------------------------------------------------<br> GetLogo  INST_WILDCARD  MOD_WILDCARD  TYPE_TRACEBUF2<br><br># Waveform Filtering Parameters<br>#------------------------------<br> MaxMessageSize    4096  # length (bytes) of largest msg to be processed<br><br> UseOriginalInstId    1  # 0  apply wftimefilter's installationid to <br>                         #    any messages that pass the test. <br>                         # non-zero means apply the original instid.<br><br> UseOriginalModId     0  # 0  apply wftimefilter's moduleid to <br>                         #    any messages that pass the test <br>                         # non-zero means apply the original instid.<br><br> LogGap             0.0  # Minumum gap duration (seconds) for which we'll make<br>                         # a log entry.<br><br> TimeJumpTolerance  600  # (in seconds) This term is used to catch packets with<br>                         # dubious timestamps.  If a time gap is detected in an<br>                         # incoming data stream, the new packet's timestamp is<br>                         # compared to the system clock.  If it is later than<br>                         # the current system time by more than TimeJumpTolerance<br>                         # seconds, wftimefilter assumes the packet timestamp is <br>                         # bogus (it's in the future) and ignores the entire packet.<br>                         # NOTE: if you use this feature with small tolerances,<br>                         # the system clock must be kept on network time!!!<br>                         # <br>                         # Set to -1 if you never want to compare packet times<br>                         # to the system clock.<br>                         # Valid values are -1 or any number &gt;= 0.0<br><br><br>#AllowChangesInSampleRate 1<br>                         # Set to 0 to disallow packets with a different sample-rate<br>                         # than the rate already observed for that channel.<br><br>#################################################################################<br>## LOGGING And STATUS Commands<br>#################################################################################<br>#LimitLoggingOfBadChannels 0<br>                         # Set to 1 to <br>                         # suppress log messages from channels that  <br>                         # exceed the MaxPackets daily log thresholds.<br>                         # This way, one (or more) bad channel(s) will not generate a<br>                         # huge logfile.<br><br>#MaxPacketsToLogPerChannelPerDay 3<br>                         # If LimitLoggingOfBadChannels is enabled, then<br>                         # this is this number is the MAXIMUM number of<br>                         # filtered packets that will be logged per channel per day.<br><br>#MaxPacketsToLogPerWarningPerDay 3<br>                         # If LimitLoggingOfBadChannels is enabled, then<br>                         # this is this number is the MAXIMUM number of<br>                         # packet warnings that will be logged per channel per day.<br>                         # Currently, warnings issued for gaps between packets, and<br>                         # possibly changes in sample rate depending on the value<br>                         # of AllowChangesInSampleRate.<br><br>                         <br>#LogDailySummary 0<br>                         # Set to 1 to log a daily summary of the packets processed<br>                         # and number of errors and warning generated per channel.<br><br>#IssueDailyStatusWithSummaryOfBadPackets 0<br>                         # Set to 1 to have program issue a STATUS ERROR message each day<br>                         # if bad packets are processed that day.<br><br>#LogOnlyChannelsWithProblems 0<br>                         # If LogDailySummary is set to 1, then set this param <br>                         # to 1 to cause only channels with problems to be logged<br>                         # in the daily summary.<br></pre>
<center> <a href="../modules.html">Module Index</a> | <a
 href="../ovr/wftimefilter_ovr.html">wftimefilter Overview</a> </center>
<hr>
<address> <br>
Contact: <address> Questions? Issues? <a href="http://groups.google.com/group/earthworm_forum?hl=en" target="_blank">Subscribe to the Earthworm Google Groups List. </a></address> </address>
</body>
</html>
