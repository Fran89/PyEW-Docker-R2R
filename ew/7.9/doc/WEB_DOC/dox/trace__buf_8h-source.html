<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>trace_buf.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>trace_buf.h</h1><a href="trace__buf_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">/*</span>
00003 <span class="comment"> *   THIS FILE IS UNDER RCS - DO NOT MODIFY UNLESS YOU HAVE</span>
00004 <span class="comment"> *   CHECKED IT OUT USING THE COMMAND CHECKOUT.</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> *    $Id: trace__buf_8h-source.html 2161 2006-05-19 16:55:03Z paulf $</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> *    Revision history:</span>
00009 <span class="comment"> *     $Log$
00009 <span class="comment"> *     Revision 1.1  2006/05/19 16:55:02  paulf
00009 <span class="comment"> *     first inclusion
00009 <span class="comment"> *</span>
00010 <span class="comment"> *     Revision 1.3  2002/03/20 20:14:52  lombard</span>
00011 <span class="comment"> *     size of net string was specified as TRACE_CHAN_LEN and channel string</span>
00012 <span class="comment"> *     as TRACE_NET_LEN. While these macros currently have the same value,</span>
00013 <span class="comment"> *     they may not in the future. The string sizes have been corrected.</span>
00014 <span class="comment"> *</span>
00015 <span class="comment"> *     Revision 1.2  2001/03/15 01:22:44  dietz</span>
00016 <span class="comment"> *     added TRACE_LOC_LEN definition</span>
00017 <span class="comment"> *</span>
00018 <span class="comment"> *     Revision 1.1  2000/02/14 20:05:54  lucky</span>
00019 <span class="comment"> *     Initial revision</span>
00020 <span class="comment"> *</span>
00021 <span class="comment"> *</span>
00022 <span class="comment"> */</span>
00023 
00024 <span class="comment">/*</span>
00025 <span class="comment"> * Trace_buf.h</span>
00026 <span class="comment"> *</span>
00027 <span class="comment"> * Header file for Earthworm packets that allow demultiplexed data</span>
00028 <span class="comment"> *  from various sources to be handled efficiently. Added to</span>
00029 <span class="comment"> *  Earthworm system by</span>
00030 <span class="comment"> * Kent Lindquist and Roger Hansen</span>
00031 <span class="comment"> * Geophysical Institute</span>
00032 <span class="comment"> * University of Alaska, Fairbanks</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> * February, 1996</span>
00035 <span class="comment"> *</span>
00036 <span class="comment"> * November 1996: KGL Added net and quality fields to accommodate</span>
00037 <span class="comment"> *  needs expressed by Alex Bittenbinder and the Earthworm team</span>
00038 <span class="comment"> * February 1997: KGL Added pad field as used by Earthworm team</span>
00039 <span class="comment"> *</span>
00040 <span class="comment"> * Replaced hardcoded string lengths for S-C-N with </span>
00041 <span class="comment"> * #defines so that they can be used elsewhere. LV 5/1999</span>
00042 <span class="comment"> *</span>
00043 <span class="comment"> *</span>
00044 <span class="comment"> */</span>
00045 
00046 <span class="preprocessor">#ifndef TRACE_BUF_H</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define TRACE_BUF_H</span>
00048 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="trace__buf_8h.html#a0">00049</a> <span class="preprocessor">#define NETWORK_NULL_STRING "-"</span>
00050 <span class="preprocessor"></span>
00051 <span class="comment">/* NOTE:</span>
00052 <span class="comment"> * The principal time fields in the TRACE_HEADER are: </span>
00053 <span class="comment"> *    starttime, nsamp, and samprate.</span>
00054 <span class="comment"> * The endtime field is included as a redundant convenience.</span>
00055 <span class="comment"> */</span>
00056 
<a name="l00057"></a><a class="code" href="trace__buf_8h.html#a1">00057</a> <span class="preprocessor">#define TRACE_STA_LEN   7</span>
<a name="l00058"></a><a class="code" href="trace__buf_8h.html#a2">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define TRACE_CHAN_LEN  9</span>
<a name="l00059"></a><a class="code" href="trace__buf_8h.html#a3">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define TRACE_NET_LEN   9</span>
<a name="l00060"></a><a class="code" href="trace__buf_8h.html#a4">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define TRACE_LOC_LEN   3</span>
00061 <span class="preprocessor"></span>
<a name="l00062"></a><a class="code" href="structTRACE__HEADER.html">00062</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00063"></a><a class="code" href="structTRACE__HEADER.html#m0">00063</a>         <span class="keywordtype">int</span>     pinno;          <span class="comment">/* Pin number */</span>
<a name="l00064"></a><a class="code" href="structTRACE__HEADER.html#m1">00064</a>         <span class="keywordtype">int</span>     nsamp;          <span class="comment">/* Number of samples in packet */</span>
<a name="l00065"></a><a class="code" href="structTRACE__HEADER.html#m2">00065</a>         <span class="keywordtype">double</span>  starttime;      <span class="comment">/* time of first sample in epoch seconds</span>
00066 <span class="comment">                                   (seconds since midnight 1/1/1970) */</span>
<a name="l00067"></a><a class="code" href="structTRACE__HEADER.html#m3">00067</a>         <span class="keywordtype">double</span>  endtime;        <span class="comment">/* Time of last sample in epoch seconds */</span>
<a name="l00068"></a><a class="code" href="structTRACE__HEADER.html#m4">00068</a>         <span class="keywordtype">double</span>  samprate;       <span class="comment">/* Sample rate; nominal */</span>
<a name="l00069"></a><a class="code" href="structTRACE__HEADER.html#m5">00069</a>         <span class="keywordtype">char</span>    sta[<a class="code" href="trace__buf_8h.html#a1">TRACE_STA_LEN</a>];         <span class="comment">/* Site name */</span>
<a name="l00070"></a><a class="code" href="structTRACE__HEADER.html#m6">00070</a>         <span class="keywordtype">char</span>    net[<a class="code" href="trace__buf_8h.html#a3">TRACE_NET_LEN</a>];         <span class="comment">/* Network name */</span>
<a name="l00071"></a><a class="code" href="structTRACE__HEADER.html#m7">00071</a>         <span class="keywordtype">char</span>    chan[<a class="code" href="trace__buf_8h.html#a2">TRACE_CHAN_LEN</a>];        <span class="comment">/* Component/channel code */</span>
<a name="l00072"></a><a class="code" href="structTRACE__HEADER.html#m8">00072</a>         <span class="keywordtype">char</span>    datatype[3];    <span class="comment">/* Data format code */</span>
<a name="l00073"></a><a class="code" href="structTRACE__HEADER.html#m9">00073</a>         <span class="keywordtype">char</span>    quality[2];     <span class="comment">/* Data-quality field */</span>
<a name="l00074"></a><a class="code" href="structTRACE__HEADER.html#m10">00074</a>         <span class="keywordtype">char</span>    pad[2];         <span class="comment">/* padding */</span>
00075 } <a class="code" href="structTRACE__HEADER.html">TRACE_HEADER</a>;
00076 
<a name="l00077"></a><a class="code" href="trace__buf_8h.html#a5">00077</a> <span class="preprocessor">#define MAX_TRACEBUF_SIZ 4096   </span><span class="comment">/* define maximum size of trace message buffer */</span>
00078 
<a name="l00079"></a><a class="code" href="unionTracePacket.html">00079</a> <span class="keyword">typedef</span> <span class="keyword">union </span>{
<a name="l00080"></a><a class="code" href="unionTracePacket.html#m0">00080</a>         <span class="keywordtype">char</span>    msg[<a class="code" href="trace__buf_8h.html#a5">MAX_TRACEBUF_SIZ</a>];
<a name="l00081"></a><a class="code" href="unionTracePacket.html#m1">00081</a>         <a class="code" href="structTRACE__HEADER.html">TRACE_HEADER</a> trh;
<a name="l00082"></a><a class="code" href="unionTracePacket.html#m2">00082</a>         <span class="keywordtype">int</span>     i;
00083 } <a class="code" href="unionTracePacket.html">TracePacket</a>;
00084 
00085 <span class="comment">/* Byte 0 of data quality flags, as in SEED format</span>
00086 <span class="comment">   ***********************************************/</span>
<a name="l00087"></a><a class="code" href="trace__buf_8h.html#a6">00087</a> <span class="preprocessor">#define AMPLIFIER_SATURATED    0x01</span>
<a name="l00088"></a><a class="code" href="trace__buf_8h.html#a7">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define DIGITIZER_CLIPPED      0x02</span>
<a name="l00089"></a><a class="code" href="trace__buf_8h.html#a8">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define SPIKES_DETECTED        0x04</span>
<a name="l00090"></a><a class="code" href="trace__buf_8h.html#a9">00090</a> <span class="preprocessor"></span><span class="preprocessor">#define GLITCHES_DETECTED      0x08</span>
<a name="l00091"></a><a class="code" href="trace__buf_8h.html#a10">00091</a> <span class="preprocessor"></span><span class="preprocessor">#define MISSING_DATA_PRESENT   0x10</span>
<a name="l00092"></a><a class="code" href="trace__buf_8h.html#a11">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define TELEMETRY_SYNCH_ERROR  0x20</span>
<a name="l00093"></a><a class="code" href="trace__buf_8h.html#a12">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define FILTER_CHARGING        0x40</span>
<a name="l00094"></a><a class="code" href="trace__buf_8h.html#a13">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define TIME_TAG_QUESTIONABLE  0x80</span>
00095 <span class="preprocessor"></span>
00096 <span class="comment">/* CSS datatype codes</span>
00097 <span class="comment">   ******************/</span>
00098 <span class="comment">/*</span>
00099 <span class="comment">        t4      SUN IEEE single precision real</span>
00100 <span class="comment">        t8      SUN IEEE double precision real</span>
00101 <span class="comment">        s4      SUN IEEE integer</span>
00102 <span class="comment">        s2      SUN IEEE short integer</span>
00103 <span class="comment">        f4      VAX/Intel IEEE single precision real</span>
00104 <span class="comment">        f8      VAX/Intel IEEE double precision real</span>
00105 <span class="comment">        i4      VAX/Intel IEEE integer</span>
00106 <span class="comment">        i2      VAX/Intel IEEE short integer</span>
00107 <span class="comment">        g2      NORESS gain-ranged</span>
00108 <span class="comment">*/</span>
00109 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:11 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
