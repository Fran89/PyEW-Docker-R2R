<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>dbmutableserver.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>dbmutableserver.h</h1><a href="dbmutableserver_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment"> * dbmutableserverbase.h -- Extends the MutableServerBase class to add</span>
00003 <span class="comment"> *                          database access.</span>
00004 <span class="comment"> * </span>
00005 <span class="comment"> * CONFIGURATION (.d) FILE:</span>
00006 <span class="comment"> * </span>
00007 <span class="comment"> *        DBConnection  User Password Service</span>
00008 <span class="comment"> */</span>
00009  
00010 <span class="preprocessor">#if ! defined(_MSM_DBServer_H)</span>
<a name="l00011"></a><a class="code" href="dbmutableserver_8h.html#a0">00011</a> <span class="preprocessor"></span><span class="preprocessor">#define _MSM_DBServer_H</span>
00012 <span class="preprocessor"></span>
00013 
00014 <span class="preprocessor">#include "<a class="code" href="mutableserverbase_8h.html">mutableserverbase.h</a>"</span>
00015 <span class="preprocessor">#include &lt;string&gt;</span>  <span class="comment">// std::string</span>
00016 
00017 <span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00018 
00019 <span class="preprocessor">#include &lt;ewdb_ora_api.h&gt;</span>
00020 <span class="preprocessor">#include &lt;ewdb_cli_base.h&gt;</span>
00021 
00022 }
00023 
<a name="l00024"></a><a class="code" href="classDBMutableServer.html">00024</a> <span class="keyword">class </span><a class="code" href="classDBMutableServer.html">DBMutableServer</a> : <span class="keyword">public</span> <a class="code" href="classMutableServerBase.html">MutableServerBase</a>
00025 {
00026 <span class="keyword">protected</span>:
00027 
00028    <span class="comment">// =======================================================================</span>
00029    <span class="comment">//                  from TConfigurable</span>
00030    <span class="comment">// =======================================================================</span>
00031 
00032    <span class="comment">/* CheckConfig() -- allows derivative classes to report the status of their</span>
00033 <span class="comment">   **                  the configuration state.</span>
00034 <span class="comment">   **</span>
00035 <span class="comment">   ** Set ConfigStatus = WORM_STAT_BADSTATE if there</span>
00036 <span class="comment">   ** is a configuration problem, otherwise take no action.</span>
00037 <span class="comment">   */</span>
00038    <span class="keywordtype">void</span> <a class="code" href="classDBMutableServer.html#b0">CheckConfig</a>();
00039 
00040 
00041    <span class="comment">// =======================================================================</span>
00042    <span class="comment">//                  from WormServerBase</span>
00043    <span class="comment">// =======================================================================</span>
00044 
00045    <span class="comment">// PrepareToRun() -- actions to take prior to entering main loop</span>
00046    <span class="comment">// </span>
00047    <span class="comment">//   ALWAYS call base class's PrepareToRun() at the top</span>
00048    <span class="comment">//</span>
00049    <span class="comment">// RETURN:  true if ready</span>
00050    <span class="comment">//          false if some condition prevents proper execution</span>
00051    <span class="comment">//</span>
00052    <span class="keywordtype">bool</span> <a class="code" href="classDBMutableServer.html#b1">PrepareToRun</a>();
00053 
00054 
00055    <span class="comment">// =======================================================================</span>
00056    <span class="comment">//                  for DBMutableServer</span>
00057    <span class="comment">// =======================================================================</span>
00058 
00059 
00060    <span class="comment">// Database connection parameters</span>
00061    <span class="comment">//</span>
00062    std::string <a class="code" href="classDBMutableServer.html#n0">DB_User</a>
<a name="l00063"></a><a class="code" href="classDBMutableServer.html#n0">00063</a>              , <a class="code" href="classDBMutableServer.html#n1">DB_Password</a>
00064              , <a class="code" href="classDBMutableServer.html#n2">DB_Service</a>
00065              ;
00066 
00067    <span class="comment">// InitializeDB() -- Initializes the database connection, using</span>
00068    <span class="comment">//                   DB_User, DB_Password, DB_Service </span>
00069    <span class="comment">//                   Called within this class's PrepareToRun() method.</span>
00070    <span class="comment">//</span>
00071    <span class="comment">// RETURNS:</span>
00072    <span class="comment">//       true  = success</span>
00073    <span class="comment">//      false  = error</span>
00074    <span class="comment">//</span>
00075    <span class="keywordtype">bool</span> <a class="code" href="classDBMutableServer.html#b2">InitializeDB</a>();
00076 
00077    <span class="comment">// GetDefaultsFromDB() -- Gets default parameter lines from the database,</span>
00078    <span class="comment">//                        passes each line, along with a pointer (to the</span>
00079    <span class="comment">//                        default parameters struct) to HandleParameterLine()</span>
00080    <span class="comment">//</span>
00081    <span class="comment">// RETURNS:</span>
00082    <span class="comment">//       true  = success</span>
00083    <span class="comment">//      false  = error</span>
00084    <span class="comment">//</span>
00085    <span class="keywordtype">bool</span> <a class="code" href="classDBMutableServer.html#b3">GetDefaultsFromDB</a>( <span class="keywordtype">void</span> * p_parmstruct );
00086 
00087    
00088    <span class="comment">// HandleParameterLine() -- handle configuration lines which may be either</span>
00089    <span class="comment">//                          lines from a .d file, or passport lines from</span>
00090    <span class="comment">//                          the database.</span>
00091    <span class="comment">// </span>
00092    <span class="comment">// PARAMETERS:</span>
00093    <span class="comment">//       p_parser = pointer to a ComFile or OracleConfigSource object</span>
00094    <span class="comment">//       p_params = pointer to either a struct holding default parameters,</span>
00095    <span class="comment">//                  or to a struct that is being used to hold parameters</span>
00096    <span class="comment">//                  for an arriving processing request.</span>
00097    <span class="comment">// </span>
00098    <span class="comment">// RETURNS:</span>
00099    <span class="comment">//          HANDLE_INVALID --  line invalid</span>
00100    <span class="comment">//          HANDLE_UNUSED  --  line not used</span>
00101    <span class="comment">//          HANDLE_USED    --  line used okay</span>
00102    <span class="comment">//</span>
00103    <span class="keyword">virtual</span> <a class="code" href="configurable_8h.html#a3">HANDLE_STATUS</a> <a class="code" href="classDBMutableServer.html#b4">HandleParameterLine</a>( <a class="code" href="classConfigSource.html">ConfigSource</a> * p_parser
00104                                             , <span class="keywordtype">void</span>         * p_params
00105                                             ) = 0;
00106 
00107 
00108 
00109 <span class="keyword">public</span>:
00110 
00111 
00112    <span class="comment">// =======================================================================</span>
00113    <span class="comment">//                  from TConfigurable</span>
00114    <span class="comment">// =======================================================================</span>
00115 
00116    <span class="comment">/*</span>
00117 <span class="comment">   **  HandleConfigLine()</span>
00118 <span class="comment">   **</span>
00119 <span class="comment">   **  PARMS:</span>
00120 <span class="comment">   **          p_parser -- the parser being used, command string already</span>
00121 <span class="comment">   **                      in the current token for comparison with Its()</span>
00122 <span class="comment">   **</span>
00123 <span class="comment">   ** RETURN:</span>
00124 <span class="comment">   **          HANDLE_INVALID --  line invalid</span>
00125 <span class="comment">   **          HANDLE_UNUSED  --  line not used</span>
00126 <span class="comment">   **          HANDLE_USED    --  line used okay</span>
00127 <span class="comment">   **</span>
00128 <span class="comment">   **  Override for child classes to handle command lines</span>
00129 <span class="comment">   **  Call &lt;super_class::HandleConfigLine() within derivative classes</span>
00130 <span class="comment">   **  to allow them a whack at the parameter as well.</span>
00131 <span class="comment">   */</span>
00132    <a class="code" href="configurable_8h.html#a3">HANDLE_STATUS</a> <a class="code" href="classDBMutableServer.html#a0">HandleConfigLine</a>( <a class="code" href="classConfigSource.html">ConfigSource</a> * p_parser );
00133 
00134 
00135 };
00136 
00137 <span class="preprocessor">#endif // _MSM_DBServer_H</span>
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:00 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
