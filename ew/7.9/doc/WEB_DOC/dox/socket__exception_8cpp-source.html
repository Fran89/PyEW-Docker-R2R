<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>socket_exception.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>socket_exception.cpp</h1><a href="socket__exception_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//---------------------------------------------------------------------------</span>
00002 <span class="preprocessor">#include &lt;<a class="code" href="socket__exception_8h.html">socket_exception.h</a>&gt;</span>
00003 
00004 <span class="preprocessor">#if  defined(_WINNT) || defined(_Windows)</span>
00005 <span class="preprocessor"></span>
00006 <span class="preprocessor">#include &lt;winsock2.h&gt;</span>
00007 
00008 <span class="preprocessor">#elif defined(_SOLARIS)</span>
00009 <span class="preprocessor"></span>
00010 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00011 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
00012 
00013 
00014 
00015 
00016 <span class="preprocessor">#else //-----------------------------------</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#error socket_exception.h not completed for this O/S</span>
00019 <span class="preprocessor"></span>
00020 <span class="preprocessor">#endif</span>
00021 <span class="preprocessor"></span>
00022 <span class="comment">//---------------------------------------------------------------------------</span>
00023 <span class="preprocessor">#pragma package(smart_init)</span>
00024 <span class="preprocessor"></span>
00025 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00026"></a><a class="code" href="classworm__socket__exception.html#a2">00026</a> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classworm__socket__exception.html#a2">worm_socket_exception::DecodeError</a>()<span class="keyword"> const</span>
00027 <span class="keyword"></span>{
00028    <span class="keywordflow">return</span> <a class="code" href="classworm__socket__exception.html#a2">DecodeError</a>(FunctionId, ErrorCode);
00029 }
00030 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00031"></a><a class="code" href="classworm__socket__exception.html#d0">00031</a> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classworm__socket__exception.html#a2">worm_socket_exception::DecodeError</a>( WS_FUNCTION_ID p_functionid, <span class="keywordtype">int</span> p_errcode )
00032 {
00033    <span class="keywordtype">char</span> * r_message = <span class="stringliteral">"Unidentified socket error."</span>;
00034 
00035    <span class="keywordflow">switch</span>( p_errcode )
00036    {
00037 <span class="preprocessor">#if  defined(_WINNT) || defined(_Windows)</span>
00038 <span class="preprocessor"></span>
00039      <span class="keywordflow">case</span> WSANOTINITIALISED:
00040           r_message = <span class="stringliteral">"A successful WSAStartup must occur before using this function."</span>;
00041           <span class="keywordflow">break</span>;
00042      <span class="keywordflow">case</span> WSAEINPROGRESS:
00043           r_message = <span class="stringliteral">"A blocking Windows Sockets 1.1 call is in progress, or the service provider is still processing a callback function."</span>;
00044           <span class="keywordflow">break</span>;
00045      <span class="keywordflow">case</span> WSAENOTSOCK:
00046           r_message = <span class="stringliteral">"The descriptor is not a socket."</span>;
00047           <span class="keywordflow">break</span>;
00048      <span class="keywordflow">case</span> WSAEACCES:
00049           <span class="keywordflow">switch</span>( p_functionid )
00050           {
00051             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00052                  r_message = <span class="stringliteral">"The requested address is a broadcast address, but the appropriate flag was not set."</span>;
00053                  <span class="keywordflow">break</span>;
00054             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00055                  r_message = <span class="stringliteral">"Attempt to connect datagram socket to broadcast address failed because setsockopt SO_BROADCAST is not enabled."</span>;
00056                  <span class="keywordflow">break</span>;
00057           }
00058           <span class="keywordflow">break</span>;
00059      <span class="keywordflow">case</span> WSAEADDRINUSE: <span class="comment">// bind()</span>
00060           r_message = <span class="stringliteral">"The specified address is already in use. (See the SO_REUSEADDR socket option under setsockopt.)"</span>;
00061           <span class="keywordflow">break</span>;
00062      <span class="keywordflow">case</span> WSAEADDRNOTAVAIL: <span class="comment">// WSF_CONNECT</span>
00063           r_message = <span class="stringliteral">"The specified address is not available from the local machine."</span>;
00064           <span class="keywordflow">break</span>;
00065      <span class="keywordflow">case</span> WSAEAFNOSUPPORT:
00066           <span class="keywordflow">switch</span>( p_functionid )
00067           {
00068             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00069                  r_message = <span class="stringliteral">"The specified address family is not supported."</span>;
00070                  <span class="keywordflow">break</span>;
00071             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00072                  r_message = <span class="stringliteral">"Addresses in the specified family cannot be used with this socket."</span>;
00073                  <span class="keywordflow">break</span>;
00074           }
00075           <span class="keywordflow">break</span>;
00076      <span class="keywordflow">case</span> WSAEALREADY: <span class="comment">// WSF_CONNECT</span>
00077           r_message = <span class="stringliteral">"A nonblocking connect call is in progress on the specified socket."</span>;
00078           <span class="keywordflow">break</span>;
00079      <span class="keywordflow">case</span> WSAECONNABORTED:   <span class="comment">// WSF_SEND, WSF_RECV, WSF_RECVFROM</span>
00080           r_message = <span class="stringliteral">"The virtual circuit was terminated due to a time-out or other failure. The application should close the socket as it is no longer usable."</span>;
00081           <span class="keywordflow">break</span>;
00082      <span class="keywordflow">case</span> WSAECONNRESET:
00083           <span class="keywordflow">switch</span>( p_functionid )
00084           {
00085             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00086                  r_message = <span class="stringliteral">"The attempt to connect was forcefully rejected."</span>;
00087                  <span class="keywordflow">break</span>;
00088             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00089                  r_message = <span class="stringliteral">"The virtual circuit was reset by the remote side executing a 'hard' or 'abortive' close. For UPD sockets, the remote host was unable to deliver a previously sent UDP datagram and responded with a 'Port Unreachable' ICMP packet. The application should close the socket as it is no longer usable"</span>;
00090                  <span class="keywordflow">break</span>;
00091             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00092             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00093                  r_message = <span class="stringliteral">"The virtual circuit was reset by the remote side executing a 'hard' or 'abortive' close. The application should close the socket as it is no longer usable. On a UDP datagram socket this error would indicate that a previous send operation resulted in an ICMP 'Port Unreachable' message."</span>;
00094                  <span class="keywordflow">break</span>;
00095           }
00096           <span class="keywordflow">break</span>;
00097      <span class="keywordflow">case</span> WSAEFAULT:
00098           <span class="keywordflow">switch</span>( p_functionid )
00099           {
00100             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00101                  r_message = <span class="stringliteral">"The addrlen argument is too small or addr is not a valid part of the user address space."</span>;
00102                  <span class="keywordflow">break</span>;
00103             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00104                  r_message = <span class="stringliteral">"The name or the namelen argument is not a valid part of the user address space, the namelen argument is too small, the name argument contains incorrect address format for the associated address family, or the first two bytes of the memory block specified by name does not match the address family associated with the socket descriptor s."</span>;
00105                  <span class="keywordflow">break</span>;
00106             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00107                  r_message = <span class="stringliteral">"The name or the namelen argument is not a valid part of the user address space, the namelen argument is too small, or the name argument contains incorrect address format for the associated address family."</span>;
00108                  <span class="keywordflow">break</span>;
00109             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a5">WSF_IOCTLSOCK</a>:
00110                  r_message = <span class="stringliteral">"The argp argument is not a valid part of the user address space"</span>;
00111                  <span class="keywordflow">break</span>;
00112             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a6">WSF_SETSOCKOPT</a>:
00113                  r_message = <span class="stringliteral">"optval is not in a valid part of the process address space or optlen argument is too small"</span>;
00114                  <span class="keywordflow">break</span>;
00115             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a7">WSF_GETSOCKOPT</a>:
00116                  r_message = <span class="stringliteral">"One of the optval or the optlen arguments is not a valid part of the user address space, or the optlen argument is too small."</span>;
00117                  <span class="keywordflow">break</span>;
00118             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a13">WSF_SELECT</a>:
00119                  r_message = <span class="stringliteral">"The Windows Sockets implementation was unable to allocated needed resources for its internal operations, or the readfds, writefds, exceptfds, or timeval parameters are not part of the user address space."</span>;
00120                  <span class="keywordflow">break</span>;
00121             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00122                  r_message = <span class="stringliteral">"The buf argument is not totally contained in a valid part of the user address space."</span>;
00123                  <span class="keywordflow">break</span>;
00124             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00125                  r_message = <span class="stringliteral">"The buf argument is not totally contained in a valid part of the user address space."</span>;
00126                  <span class="keywordflow">break</span>;
00127             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00128                  r_message = <span class="stringliteral">"The buf or from parameters are not part of the user address space, or the fromlen argument is too small to accommodate the peer address."</span>;
00129                  <span class="keywordflow">break</span>;
00130           }
00131           <span class="keywordflow">break</span>;
00132      <span class="keywordflow">case</span> WSAEHOSTUNREACH:
00133           r_message = <span class="stringliteral">"The remote host cannot be reached from this host at this time"</span>;
00134           <span class="keywordflow">break</span>;
00135      <span class="keywordflow">case</span> WSAEINTR: <span class="comment">// WSF_SEND, WSF_RECV</span>
00136           r_message = <span class="stringliteral">"The (blocking) call was canceled through WSACancelBlockingCall."</span>;
00137           <span class="keywordflow">break</span>;
00138      <span class="keywordflow">case</span> WSAEINVAL:
00139           <span class="keywordflow">switch</span>( p_functionid )
00140           {
00141             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00142                  r_message = <span class="stringliteral">"listen was not invoked prior to accept."</span>;
00143                  <span class="keywordflow">break</span>;
00144             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00145                  r_message = <span class="stringliteral">"The socket is already bound to an address."</span>;
00146                  <span class="keywordflow">break</span>;
00147             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00148                  r_message = <span class="stringliteral">"The parameter s is a listening socket, or the destination address specified is not consistent with that of the constrained group the socket belongs to."</span>;
00149                  <span class="keywordflow">break</span>;
00150             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a6">WSF_SETSOCKOPT</a>:
00151                  r_message = <span class="stringliteral">"level is not valid, or the information in optval is not valid"</span>;
00152                  <span class="keywordflow">break</span>;
00153             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a7">WSF_GETSOCKOPT</a>:
00154                  r_message = <span class="stringliteral">"level is unknown or invalid"</span>;
00155                  <span class="keywordflow">break</span>;
00156             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a13">WSF_SELECT</a>:
00157                  r_message = <span class="stringliteral">"The timeout value is not valid, or all three descriptor parameters were NULL."</span>;
00158                  <span class="keywordflow">break</span>;
00159             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00160                  r_message = <span class="stringliteral">"The socket has not been bound with bind, or an unknown flag was specified, or MSG_OOB was specified for a socket with SO_OOBINLINE enabled."</span>;
00161                  <span class="keywordflow">break</span>;
00162             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00163             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00164                  r_message = <span class="stringliteral">"The socket has not been bound with bind, or an unknown flag was specified, or MSG_OOB was specified for a socket with SO_OOBINLINE enabled or (for byte stream sockets only) len was zero or negative."</span>;
00165                  <span class="keywordflow">break</span>;
00166           }
00167           <span class="keywordflow">break</span>;
00168      <span class="keywordflow">case</span> WSAEISCONN: <span class="comment">// WSF_CONNECT</span>
00169           r_message = <span class="stringliteral">"The socket is already connected (connection-oriented sockets only)."</span>;
00170           <span class="keywordflow">break</span>;
00171      <span class="keywordflow">case</span> WSAEMFILE: <span class="comment">// WSF_SOCKET, WSF_ACCEPT</span>
00172           r_message = <span class="stringliteral">"No more socket descriptors are available"</span>;
00173           <span class="keywordflow">break</span>;
00174      <span class="keywordflow">case</span> WSAEMSGSIZE:
00175           <span class="keywordflow">switch</span>( p_functionid )
00176           {
00177             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00178                  r_message = <span class="stringliteral">"The socket is message oriented, and the message is larger than the maximum supported by the underlying transport."</span>;
00179                  <span class="keywordflow">break</span>;
00180             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00181             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00182                  r_message = <span class="stringliteral">"The message was too large to fit into the specified buffer and was truncated."</span>;
00183                  <span class="keywordflow">break</span>;
00184           }
00185           <span class="keywordflow">break</span>;
00186      <span class="keywordflow">case</span> WSAENETDOWN: <span class="comment">// WSF_SOCKET, WSF_SEND</span>
00187           r_message = <span class="stringliteral">"The network subsystem or the associated service provider has failed."</span>;
00188           <span class="keywordflow">break</span>;
00189      <span class="keywordflow">case</span> WSAENETRESET:
00190           <span class="keywordflow">switch</span>( p_functionid )
00191           {
00192             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a6">WSF_SETSOCKOPT</a>:
00193                  r_message = <span class="stringliteral">"Connection has timed out when SO_KEEPALIVE is set"</span>;
00194                  <span class="keywordflow">break</span>;
00195             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00196             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00197             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00198                  r_message = <span class="stringliteral">"The connection has been broken due to the remote host resetting."</span>;
00199                  <span class="keywordflow">break</span>;
00200           }
00201           <span class="keywordflow">break</span>;
00202      <span class="keywordflow">case</span> WSAENETUNREACH: <span class="comment">// WSF_CONNECT</span>
00203           r_message = <span class="stringliteral">"The network cannot be reached from this host at this time."</span>;
00204           <span class="keywordflow">break</span>;
00205      <span class="keywordflow">case</span> WSAENOBUFS:
00206           <span class="keywordflow">switch</span>( p_functionid )
00207           {
00208             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00209                  r_message = <span class="stringliteral">"No buffer space available."</span>;
00210                  <span class="keywordflow">break</span>;
00211             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00212                  r_message = <span class="stringliteral">"Not enough buffers available, too many connections."</span>;
00213                  <span class="keywordflow">break</span>;
00214             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00215                  r_message = <span class="stringliteral">"No buffer space is available. The socket cannot be created."</span>;
00216                  <span class="keywordflow">break</span>;
00217             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00218                  r_message = <span class="stringliteral">"No buffer space is available. The socket cannot be connected."</span>;
00219                  <span class="keywordflow">break</span>;
00220             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a5">WSF_IOCTLSOCK</a>:
00221             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00222                  r_message = <span class="stringliteral">"No buffer space is available."</span>;
00223                  <span class="keywordflow">break</span>;
00224           }
00225           <span class="keywordflow">break</span>;
00226      <span class="keywordflow">case</span> WSAENOPROTOOPT:
00227           <span class="keywordflow">switch</span>( p_functionid )
00228           {
00229             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a6">WSF_SETSOCKOPT</a>:
00230                  r_message = <span class="stringliteral">"The option is unknown or unsupported for the specified provider."</span>;
00231                  <span class="keywordflow">break</span>;
00232             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a7">WSF_GETSOCKOPT</a>:
00233                  r_message = <span class="stringliteral">"The option is unknown or unsupported by the indicated protocol family."</span>;
00234                  <span class="keywordflow">break</span>;
00235             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00236                  r_message = <span class="stringliteral">"The specified protocol is the wrong type for this socket."</span>;
00237                  <span class="keywordflow">break</span>;
00238           }
00239           <span class="keywordflow">break</span>;
00240      <span class="keywordflow">case</span> WSAENOTCONN:
00241           <span class="keywordflow">switch</span>( p_functionid )
00242           {
00243             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a6">WSF_SETSOCKOPT</a>:
00244                  r_message = <span class="stringliteral">"Connection has been reset when SO_KEEPALIVE is set"</span>;
00245                  <span class="keywordflow">break</span>;
00246             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00247             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00248                  r_message = <span class="stringliteral">"The socket is not connected."</span>;
00249                  <span class="keywordflow">break</span>;
00250             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00251                  r_message = <span class="stringliteral">"The socket is not connected (connection-oriented sockets only)."</span>;
00252                  <span class="keywordflow">break</span>;
00253           }
00254           <span class="keywordflow">break</span>;
00255      <span class="keywordflow">case</span> WSAEOPNOTSUPP:
00256           <span class="keywordflow">switch</span>( p_functionid )
00257           {
00258             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00259                  r_message = <span class="stringliteral">"The referenced socket is not a type that supports connection-oriented service."</span>;
00260                  <span class="keywordflow">break</span>;
00261             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00262                  r_message = <span class="stringliteral">"MSG_OOB was specified, but the socket is not stream style such as type SOCK_STREAM, out-of-band data is not supported in the communication domain associated with this socket, or the socket is unidirectional and supports only receive operations."</span>;
00263                  <span class="keywordflow">break</span>;
00264             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00265             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00266                  r_message = <span class="stringliteral">"MSG_OOB was specified, but the socket is not stream style such as type SOCK_STREAM, out-of-band data is not supported in the communication domain associated with this socket, or the socket is unidirectional and supports only send operations."</span>;
00267                  <span class="keywordflow">break</span>;
00268           }
00269           <span class="keywordflow">break</span>;
00270      <span class="keywordflow">case</span> WSAEPROTONOSUPPORT: <span class="comment">// WSF_SOCKET</span>
00271           r_message = <span class="stringliteral">"The specified protocol is not supported"</span>;
00272           <span class="keywordflow">break</span>;
00273      <span class="keywordflow">case</span> WSAEPROTOTYPE: <span class="comment">// WSF_SOCKET</span>
00274           r_message = <span class="stringliteral">"The specified protocol is the wrong type for this socket"</span>;
00275           <span class="keywordflow">break</span>;
00276      <span class="keywordflow">case</span> WSAESHUTDOWN:
00277           <span class="keywordflow">switch</span>( p_functionid )
00278           {
00279             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00280                  r_message = <span class="stringliteral">"The socket has been shut down; it is not possible to send on a socket after shutdown has been invoked with how set to SD_SEND or SD_BOTH"</span>;
00281                  <span class="keywordflow">break</span>;
00282             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00283                  r_message = <span class="stringliteral">"The socket has been shut down; it is not possible to recv on a socket after shutdown has been invoked with how set to SD_RECEIVE or SD_BOTH."</span>;
00284                  <span class="keywordflow">break</span>;
00285             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00286                  r_message = <span class="stringliteral">"The socket has been shut down; it is not possible to recvfrom on a socket after shutdown has been invoked with how set to SD_RECEIVE or SD_BOTH."</span>;
00287                  <span class="keywordflow">break</span>;
00288           }
00289           <span class="keywordflow">break</span>;
00290      <span class="keywordflow">case</span> WSAESOCKTNOSUPPORT: <span class="comment">// WSF_SOCKET</span>
00291           r_message = <span class="stringliteral">"The specified socket type is not supported in this address family"</span>;
00292           <span class="keywordflow">break</span>;
00293      <span class="keywordflow">case</span> WSAETIMEDOUT:
00294           <span class="keywordflow">switch</span>( p_functionid )
00295           {
00296             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00297                  r_message = <span class="stringliteral">"Attempt to connect timed out without establishing a connection."</span>;
00298                  <span class="keywordflow">break</span>;
00299             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00300                  r_message = <span class="stringliteral">"The connection has been dropped because of a network failure or because the system on the other end went down without notice"</span>;
00301                  <span class="keywordflow">break</span>;
00302             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00303                  r_message = <span class="stringliteral">"The connection has been dropped because of a network failure or because the peer system failed to respond."</span>;
00304                  <span class="keywordflow">break</span>;
00305             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00306                  r_message = <span class="stringliteral">"The connection has been dropped, because of a network failure or because the system on the other end went down without notice."</span>;
00307                  <span class="keywordflow">break</span>;
00308           }
00309           <span class="keywordflow">break</span>;
00310      <span class="keywordflow">case</span> WSAEWOULDBLOCK:
00311           <span class="keywordflow">switch</span>( p_functionid )
00312           {
00313             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00314                  r_message = <span class="stringliteral">"The socket is marked as nonblocking and no connections are present to be accepted."</span>;
00315                  <span class="keywordflow">break</span>;
00316             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00317                  r_message = <span class="stringliteral">"The socket is marked as nonblocking and the connection cannot be completed immediately. It is possible to select the socket while it is connecting by selecting it for writing."</span>;
00318                  <span class="keywordflow">break</span>;
00319             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00320                  r_message = <span class="stringliteral">"The socket is marked as nonblocking and the requested operation would block."</span>;
00321                  <span class="keywordflow">break</span>;
00322             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00323                  r_message = <span class="stringliteral">"The socket is marked as nonblocking and the receive operation would block."</span>;
00324                  <span class="keywordflow">break</span>;
00325             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a19">WSF_RECVFROM</a>:
00326                  r_message = <span class="stringliteral">"The socket is marked as nonblocking and the recvfrom operation would block."</span>;
00327                  <span class="keywordflow">break</span>;
00328           }
00329           <span class="keywordflow">break</span>;
00330 
00331 <span class="preprocessor">#elif defined(_SOLARIS)</span>
00332 <span class="preprocessor"></span>
00333      <span class="keywordflow">case</span> EACCES:
00334           <span class="keywordflow">switch</span>( p_functionid )
00335           {
00336             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00337                  r_message = <span class="stringliteral">"Permission to create a  socket  of  the  specified type and/or protocol is denied."</span>;
00338                  <span class="keywordflow">break</span>;
00339 
00340             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00341                  r_message = <span class="stringliteral">"The requested address is protected and the current user has inadequate permission to access it."</span>;
00342                  <span class="keywordflow">break</span>;
00343 
00344             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00345                  r_message = <span class="stringliteral">"Search permission is denied for a component of the path prefix of the pathname in name."</span>;
00346                  <span class="keywordflow">break</span>;
00347           }
00348           <span class="keywordflow">break</span>;
00349 
00350 
00351      <span class="keywordflow">case</span> EADDRINUSE:
00352           <span class="keywordflow">switch</span>( p_functionid )
00353           {
00354             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00355                  r_message = <span class="stringliteral">"The address is already in use."</span>;
00356                  <span class="keywordflow">break</span>;
00357 
00358             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00359                  r_message = <span class="stringliteral">"The specified address is already in use."</span>;
00360                  <span class="keywordflow">break</span>;
00361           }
00362           <span class="keywordflow">break</span>;
00363 
00364      <span class="keywordflow">case</span> EADDRNOTAVAIL:
00365           <span class="keywordflow">switch</span>( p_functionid )
00366           {
00367             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00368                  r_message = <span class="stringliteral">"The specified address is not available on the remote machine."</span>;
00369                  <span class="keywordflow">break</span>;
00370 
00371             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00372                  r_message = <span class="stringliteral">"The specified address is not available on the local machine."</span>;
00373                  <span class="keywordflow">break</span>;
00374           }
00375           <span class="keywordflow">break</span>;
00376 
00377      <span class="keywordflow">case</span> EAFNOSUPPORT:  <span class="comment">// WSF_CONNECT</span>
00378           r_message = <span class="stringliteral">"Addresses in the specified address family cannot be used with this socket."</span>;
00379           <span class="keywordflow">break</span>;
00380 
00381      <span class="keywordflow">case</span> EALREADY:  <span class="comment">// WSF_CONNECT</span>
00382           r_message = <span class="stringliteral">"The socket is non-blocking and a previous connection attempt has not yet been completed."</span>;
00383           <span class="keywordflow">break</span>;
00384 
00385      <span class="keywordflow">case</span> EBADF:
00386           <span class="keywordflow">switch</span>( p_functionid )
00387           {
00388             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00389             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00390                  r_message = <span class="stringliteral">"s is an invalid file descriptor."</span>;
00391                  <span class="keywordflow">break</span>;
00392 
00393             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00394                  r_message = <span class="stringliteral">"The descriptor is invalid."</span>;
00395                  <span class="keywordflow">break</span>;
00396 
00397             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00398             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00399                  r_message = <span class="stringliteral">"s is not a valid descriptor."</span>;
00400                  <span class="keywordflow">break</span>;
00401 
00402             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a15">WSF_LISTEN</a>:
00403                  r_message = <span class="stringliteral">"The argument s is not a valid file descriptor."</span>;
00404                  <span class="keywordflow">break</span>;
00405           }
00406           <span class="keywordflow">break</span>;
00407 
00408      <span class="keywordflow">case</span> ECONNREFUSED:  <span class="comment">// WSF_CONNECT</span>
00409           r_message = <span class="stringliteral">"The attempt to connect was forcefully rejected.  The calling  program  should close(2) the socket descriptor, and issue another socket(3N) call to obtain a new descriptor before attempting another connect() call."</span>;
00410           <span class="keywordflow">break</span>;
00411 
00412      <span class="keywordflow">case</span> EINPROGRESS:  <span class="comment">// WSF_CONNECT</span>
00413           r_message = <span class="stringliteral">"The socket is non-blocking and the connection cannot be completed immediately.  It is possible to select(3C) for completion by selecting the  socket for writing.  However, this is only possible if the socket STREAMS module is the topmost module on the protocol  stack  with  a  write service procedure.  This will be the normal case."</span>;
00414           <span class="keywordflow">break</span>;
00415 
00416      <span class="keywordflow">case</span> EINTR:
00417           <span class="keywordflow">switch</span>( p_functionid )
00418           {
00419             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00420                  r_message = <span class="stringliteral">"The operation was interrupted by delivery of a signal before any data could be buffered to be sent."</span>;
00421                  <span class="keywordflow">break</span>;
00422 
00423             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00424                  r_message = <span class="stringliteral">"The operation was interrupted by delivery of a signal before any data was available to be received."</span>;
00425                  <span class="keywordflow">break</span>;
00426 
00427             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00428                  r_message = <span class="stringliteral">"The accept attempt was interrupted by the delivery of a signal."</span>;
00429                  <span class="keywordflow">break</span>;
00430 
00431             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00432                  r_message = <span class="stringliteral">"The connection attempt was interrupted before any data arrived by the delivery of a signal."</span>;
00433                  <span class="keywordflow">break</span>;
00434           }
00435           <span class="keywordflow">break</span>;
00436 
00437      <span class="keywordflow">case</span> EINVAL:
00438           <span class="keywordflow">switch</span>( p_functionid )
00439           {
00440             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00441                  r_message = <span class="stringliteral">"tolen is not the size of a valid address for the specified address family."</span>;
00442                  <span class="keywordflow">break</span>;
00443 
00444             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00445                  r_message = <span class="stringliteral">"The socket is already bound to an address. or namelen is not the size of a valid address for the specified address family."</span>;
00446                  <span class="keywordflow">break</span>;
00447 
00448             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00449                  r_message = <span class="stringliteral">"namelen is not the size of a valid address for the specified address family."</span>;
00450                  <span class="keywordflow">break</span>;
00451           }
00452           <span class="keywordflow">break</span>;
00453 
00454      <span class="keywordflow">case</span> EIO:
00455           <span class="keywordflow">switch</span>( p_functionid )
00456           {
00457             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00458             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00459                  r_message = <span class="stringliteral">"An I/O error occurred while reading from or writing to the file system."</span>;
00460                  <span class="keywordflow">break</span>;
00461           }
00462 
00463      <span class="keywordflow">case</span> EISCONN:  <span class="comment">// WSF_CONNECT</span>
00464           r_message = <span class="stringliteral">"The socket is already connected."</span>;
00465           <span class="keywordflow">break</span>;
00466 
00467      <span class="keywordflow">case</span> ELOOP:  <span class="comment">// WSF_CONNECT</span>
00468           r_message = <span class="stringliteral">"Too many symbolic links were encountered in translating the pathname in name."</span>;
00469           <span class="keywordflow">break</span>;
00470 
00471      <span class="keywordflow">case</span> EMFILE:
00472           <span class="keywordflow">switch</span>( p_functionid )
00473           {
00474             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00475             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00476                  r_message = <span class="stringliteral">"The per-process descriptor table is full."</span>
00477                  <span class="keywordflow">break</span>;
00478           }
00479           <span class="keywordflow">break</span>;
00480 
00481      <span class="keywordflow">case</span> EMSGSIZE:  <span class="comment">// WSF_SEND</span>
00482           r_message = <span class="stringliteral">"The socket requires that message be sent atomically, and the message was too long."</span>;
00483           <span class="keywordflow">break</span>;
00484 
00485      <span class="keywordflow">case</span> ENETUNREACH:  <span class="comment">// WSF_CONNECT</span>
00486           r_message = <span class="stringliteral">"The network is not reachable from this host."</span>;
00487           <span class="keywordflow">break</span>;
00488 
00489      <span class="keywordflow">case</span> ENODEV:  <span class="comment">// WSF_ACCEPT</span>
00490           r_message = <span class="stringliteral">"The protocol family and type corresponding to s could not be found in the netconfig file."</span>;
00491           <span class="keywordflow">break</span>;
00492 
00493      <span class="keywordflow">case</span> ENOENT:  <span class="comment">// WSF_CONNECT</span>
00494           r_message = <span class="stringliteral">"The socket referred to by the pathname in name does not exist."</span>;
00495           <span class="keywordflow">break</span>;
00496 
00497      <span class="keywordflow">case</span> ENOMEM:
00498           <span class="keywordflow">switch</span>( p_functionid )
00499           {
00500             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00501                  r_message = <span class="stringliteral">"There was insufficient memory available to complete the operation."</span>;
00502                  <span class="keywordflow">break</span>;
00503 
00504             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00505                  r_message = <span class="stringliteral">"There was insufficient user memory available for the operation to complete."</span>;
00506                  <span class="keywordflow">break</span>;
00507 
00508             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00509                  r_message = <span class="stringliteral">"Insufficient user memory is available."</span>;
00510                  <span class="keywordflow">break</span>;
00511 
00512             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00513                  r_message = <span class="stringliteral">"There was insufficient user memory available to complete the operation."</span>;
00514                  <span class="keywordflow">break</span>;
00515           }
00516           <span class="keywordflow">break</span>;
00517 
00518      <span class="keywordflow">case</span> ENOSR:
00519           <span class="keywordflow">switch</span>( p_functionid )
00520           {
00521             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00522             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00523                  r_message = <span class="stringliteral">"There were insufficient STREAMS resources available for the operation to complete."</span>;
00524                  <span class="keywordflow">break</span>;
00525 
00526             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00527             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00528             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a9">WSF_SOCKET</a>:
00529                  r_message = <span class="stringliteral">"There were insufficient STREAMS resources available to complete the operation."</span>;
00530                  <span class="keywordflow">break</span>;
00531 
00532             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00533                  r_message = <span class="stringliteral">"There were insufficient STREAMS resources for the operation to complete."</span>;
00534                  <span class="keywordflow">break</span>;
00535           }
00536           <span class="keywordflow">break</span>;
00537 
00538      <span class="keywordflow">case</span> ENOTSOCK:  <span class="comment">// WSF_BIND</span>
00539           <span class="keywordflow">switch</span>( p_functionid )
00540           {
00541             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00542             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00543                  r_message = <span class="stringliteral">"s is not a socket."</span>;
00544                  <span class="keywordflow">break</span>;
00545 
00546             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00547                  r_message = <span class="stringliteral">"The descriptor does not reference a socket."</span>;
00548                  <span class="keywordflow">break</span>;
00549 
00550             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a14">WSF_BIND</a>:
00551                  r_message = <span class="stringliteral">"s is a descriptor for a file, not a socket."</span>;
00552                  <span class="keywordflow">break</span>;
00553 
00554             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a15">WSF_LISTEN</a>:
00555                  r_message = <span class="stringliteral">"The argument s is not a socket."</span>;
00556                  <span class="keywordflow">break</span>;
00557           }
00558           <span class="keywordflow">break</span>;
00559 
00560      <span class="keywordflow">case</span> ENXIO:  <span class="comment">// WSF_CONNECT</span>
00561           r_message = <span class="stringliteral">"The server exited before the connection was complete."</span>;
00562           <span class="keywordflow">break</span>;
00563 
00564      <span class="keywordflow">case</span> EOPNOTSUPP:
00565           <span class="keywordflow">switch</span>( p_functionid )
00566           {
00567             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00568                  r_message = <span class="stringliteral">"The referenced socket is not of type SOCK_STREAM."</span>;
00569                  <span class="keywordflow">break</span>;
00570 
00571             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a15">WSF_LISTEN</a>:
00572                  r_message = <span class="stringliteral">"The socket is not of a type that supports the operation listen()."</span>;
00573                  <span class="keywordflow">break</span>;
00574           }
00575           <span class="keywordflow">break</span>;
00576 
00577      <span class="keywordflow">case</span> EPROTO:  <span class="comment">// WSF_ACCEPT</span>
00578           r_message = <span class="stringliteral">"A protocol error has occurred; for example, the STREAMS protocol stack has not been initialized or the connection has already been released."</span>;
00579           <span class="keywordflow">break</span>;
00580 
00581      <span class="keywordflow">case</span> EPROTONOSUPPORT:  <span class="comment">// WSF_SOCKET</span>
00582           r_message = <span class="stringliteral">"The protocol type or the specified protocol is not supported within this domain."</span>;
00583           <span class="keywordflow">break</span>;
00584 
00585      <span class="keywordflow">case</span> ESTALE:  <span class="comment">// WSF_RECV</span>
00586           r_message = <span class="stringliteral">"A stale NFS file handle exists."</span>;
00587           <span class="keywordflow">break</span>;
00588 
00589      <span class="keywordflow">case</span> ETIMEDOUT:  <span class="comment">// WSF_CONNECT</span>
00590           r_message = <span class="stringliteral">"Connection establishment timed out without establishing a connection."</span>;
00591           <span class="keywordflow">break</span>;
00592 
00593      <span class="keywordflow">case</span> EWOULDBLOCK:
00594           <span class="keywordflow">switch</span>( p_functionid )
00595           {
00596             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a17">WSF_SEND</a>:
00597             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a18">WSF_RECV</a>:
00598             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a12">WSF_CONNECT</a>:
00599                  r_message = <span class="stringliteral">"The socket is marked as non-blocking, and the requested operation would block."</span>;
00600                  <span class="keywordflow">break</span>;
00601 
00602             <span class="keywordflow">case</span> <a class="code" href="worm__socket_8h.html#a35a16">WSF_ACCEPT</a>:
00603                  r_message = <span class="stringliteral">"The socket is marked as non-blocking and no connections are present to be accepted."</span>;
00604                  <span class="keywordflow">break</span>;
00605           }
00606           <span class="keywordflow">break</span>;
00607 <span class="preprocessor">#else</span>
00608 <span class="preprocessor"></span><span class="preprocessor">#error socket_exception.cpp not complete for this O/S</span>
00609 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00610 <span class="preprocessor"></span>
00611    }
00612    <span class="keywordflow">return</span> r_message;
00613 }
00614 
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:10 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
