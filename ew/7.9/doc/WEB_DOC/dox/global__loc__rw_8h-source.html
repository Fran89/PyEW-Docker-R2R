<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>global_loc_rw.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>global_loc_rw.h</h1><a href="global__loc__rw_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef _GLOBAL_LOC_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _GLOBAL_LOC_H</span>
00003 <span class="preprocessor"></span><span class="comment">/*---------------------------------------------------------------------------*/</span>
00004 
00005 <span class="preprocessor">#include &lt;<a class="code" href="earthworm__defs_8h.html">earthworm_defs.h</a>&gt;</span> <span class="comment">/* amp types */</span>
00006 <span class="preprocessor">#include &lt;<a class="code" href="trace__buf_8h.html">trace_buf.h</a>&gt;</span> <span class="comment">/*  TRACE_STA_LEN, TRACE_CHAN_LEN, TRACE_NET_LEN, TRACE_LOC_LEN */</span>
00007 <span class="preprocessor">#include &lt;<a class="code" href="global__msg_8h.html">global_msg.h</a>&gt;</span>
00008 
00009 <span class="comment">/*---------------------------------------------------------------------------*/</span>
00010 <span class="comment">/* ==========================================================================</span>
00011 <span class="comment">**                    SIZE DEFINES AND LIMITS</span>
00012 <span class="comment">** ========================================================================= */</span>
00013 
00014 <span class="comment">/* Global Amp 01  SUPERCEDED</span>
00015 <span class="comment">**</span>
00016 <span class="comment">** AMP &lt;author&gt; &lt;sequence_number&gt; &lt;version&gt; &lt;station&gt; &lt;comp&gt; &lt;net&gt; &lt;loc&gt; &lt;pick_time&gt; &lt;amplitude_type&gt; &lt;amplitude&gt; &lt;associated_period&gt;</span>
00017 <span class="comment">**</span>
00018 <span class="comment">** AMP 001002003 sssssssssssssss vv ssssss cccccccc nnnnnnnn llllllll yyyymmddhhmmss.sss T aaaaaaaaaaaaa.aa pppppppp.ppppppp</span>
00019 <span class="comment">**</span>
00020 <span class="comment">** Global Amp 02  SUPERCEDED</span>
00021 <span class="comment">**</span>
00022 <span class="comment">** AMP &lt;author&gt; &lt;version&gt; &lt;station&gt; &lt;comp&gt; &lt;net&gt; &lt;loc&gt; &lt;amplitude_type&gt; &lt;amplitude&gt; &lt;associated_period&gt;</span>
00023 <span class="comment">**</span>
00024 <span class="comment">** AMP 001002003 vv ssssss cccccccc nnnnnnnn llllllll T aaaaaaaaaaaaa.aa pppppppp.ppppppp</span>
00025 <span class="comment">**</span>
00026 <span class="comment">** Global Amp 03  SUPERCEDED</span>
00027 <span class="comment">**</span>
00028 <span class="comment">** AMP &lt;author&gt; &lt;pick_sequence&gt; &lt;version&gt; &lt;station&gt; &lt;comp&gt; &lt;net&gt; &lt;loc&gt; &lt;amplitude_type&gt; &lt;amplitude&gt; &lt;associated_period&gt;</span>
00029 <span class="comment">**</span>
00030 <span class="comment">** AMP 001002003 sssssssssssssss vv ssssss cccccccc nnnnnnnn llllllll T aaaaaaaaaaaaa.aa pppppppp.ppppppp</span>
00031 <span class="comment">**</span>
00032 <span class="comment">** Global Amp 04</span>
00033 <span class="comment">**</span>
00034 <span class="comment">** AMP &lt;author&gt; &lt;pick_sequence&gt; &lt;version&gt; &lt;station&gt; &lt;comp&gt; &lt;net&gt; &lt;loc&gt; &lt;amp_time&gt; &lt;amplitude_type&gt; &lt;amplitude&gt; &lt;associated_period&gt;</span>
00035 <span class="comment">**</span>
00036 <span class="comment">** AMP 001002003 sssssssssssssss vv ssssss cccccccc nnnnnnnn llllllll yyyymmddhhmmss.sss T aaaaaaaaaaaaa.aa pppppppp.ppppppp</span>
00037 <span class="comment">**                                                                                                                          \n</span>
00038 <span class="comment">**                                                                                                                           \0</span>
00039 <span class="comment">**           1         2         3         4         5         6         7         8         9         0         1         2</span>
00040 <span class="comment">** 012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012</span>
00041 <span class="comment">**</span>
00042 <span class="comment">**  NOTE: These are not fixed-width fields, the counter is only to assist with in determining the maximum size</span>
00043 <span class="comment">*/</span>
00044 
<a name="l00045"></a><a class="code" href="global__loc__rw_8h.html#a0">00045</a> <span class="preprocessor">#define GLOBAL_AMPLINE_MAXBUFSIZE (122 + BUFF_OVERRUN_SIZE)</span>
00046 <span class="preprocessor"></span>
<a name="l00047"></a><a class="code" href="global__loc__rw_8h.html#a7">00047</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="global__loc__rw_8h.html#a7">GLOBAL_AMPLINE_BUFFER</a>[<a class="code" href="global__loc__rw_8h.html#a0">GLOBAL_AMPLINE_MAXBUFSIZE</a>+1];
00048 
00049 
<a name="l00050"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">00050</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">_GLOBAL_AMPLINE_STRUCT</a>
00051 {
<a name="l00052"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m0">00052</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>     <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m0">version</a>;  <span class="comment">/* only set using InitGlobalAMP() or InitGlobalLoc() */</span>
<a name="l00053"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m1">00053</a>    <a class="code" href="structMSG__LOGO.html">MSG_LOGO</a>           <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m1">logo</a>;
<a name="l00054"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m2">00054</a>    <span class="keywordtype">long</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m2">pick_sequence</a>;
<a name="l00055"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m3">00055</a>    <span class="keywordtype">char</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m3">station</a>[<a class="code" href="trace__buf_8h.html#a1">TRACE_STA_LEN</a>];
<a name="l00056"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m4">00056</a>    <span class="keywordtype">char</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m4">channel</a>[<a class="code" href="trace__buf_8h.html#a2">TRACE_CHAN_LEN</a>]; <span class="comment">/* aka "component" */</span>
<a name="l00057"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m5">00057</a>    <span class="keywordtype">char</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m5">network</a>[<a class="code" href="trace__buf_8h.html#a3">TRACE_NET_LEN</a>];
<a name="l00058"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m6">00058</a>    <span class="keywordtype">char</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m6">location</a>[<a class="code" href="trace__buf_8h.html#a4">TRACE_LOC_LEN</a>];
<a name="l00059"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m7">00059</a>    <span class="keywordtype">char</span>               <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m7">amp_time</a>[19];
<a name="l00060"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m8">00060</a>    <a class="code" href="earthworm__defs_8h.html#a47">AMPLITUDE_TYPE</a>     <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m8">amptype</a>;
<a name="l00061"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m9">00061</a>    <span class="keywordtype">double</span>             <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m9">adcounts</a>; <span class="comment">/* a/d counts */</span>
<a name="l00062"></a><a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m10">00062</a>    <span class="keywordtype">double</span>             <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html#m10">period</a>;   <span class="comment">/* seconds    */</span>
00063 } <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a>;
00064 
00065 
00066 
00067 <span class="comment">/* Global Phase 01</span>
00068 <span class="comment">**</span>
00069 <span class="comment">** PHS &lt;author&gt; &lt;sequence_number&gt; &lt;version&gt; &lt;station&gt; &lt;comp&gt; &lt;net&gt; &lt;loc&gt; &lt;pick_time&gt; &lt;phase_name&gt; &lt;quality&gt; &lt;polarity&gt; &lt;namp&gt;</span>
00070 <span class="comment">**</span>
00071 <span class="comment">** PHS 001002003 sssssssssssssss vv ssssss cccccccc nnnnnnnn llllllll nnnnnnnn yyyymmddhhmmss.sss qqqqqqqqqqqqq.qq p 10000</span>
00072 <span class="comment">**                                                                                                     1         1</span>
00073 <span class="comment">**           1         2         3         4         5         6         7         8         9         0         1</span>
00074 <span class="comment">** 012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789</span>
00075 <span class="comment">**</span>
00076 <span class="comment">**  NOTE: These are not fixed-width fields, the counter is only to assist in determining the maximum size</span>
00077 <span class="comment">*/</span>
00078 
<a name="l00079"></a><a class="code" href="global__loc__rw_8h.html#a1">00079</a> <span class="preprocessor">#define MAX_AMPS_PER_GLOBALPHASE  (AMPTYPE_COUNT - 1)</span>
00080 <span class="preprocessor"></span>
<a name="l00081"></a><a class="code" href="global__loc__rw_8h.html#a2">00081</a> <span class="preprocessor">#define GLOBAL_PHSLINE_SUM_MAXSIZE (119+ BUFF_OVERRUN_SIZE)</span>
00082 <span class="preprocessor"></span>
<a name="l00083"></a><a class="code" href="global__loc__rw_8h.html#a9">00083</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="global__loc__rw_8h.html#a9">GLOBAL_PHSLINE_SUM_BUFFER</a>[<a class="code" href="global__loc__rw_8h.html#a2">GLOBAL_PHSLINE_SUM_MAXSIZE</a>+1];
00084 
<a name="l00085"></a><a class="code" href="global__loc__rw_8h.html#a3">00085</a> <span class="preprocessor">#define GLOBAL_PHSLINE_MAXBUFSIZE (GLOBAL_PHSLINE_SUM_MAXSIZE + (MAX_AMPS_PER_GLOBALPHASE * GLOBAL_AMPLINE_MAXBUFSIZE) )</span>
00086 <span class="preprocessor"></span>
<a name="l00087"></a><a class="code" href="global__loc__rw_8h.html#a10">00087</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="global__loc__rw_8h.html#a10">GLOBAL_PHSLINE_BUFFER</a>[<a class="code" href="global__loc__rw_8h.html#a3">GLOBAL_PHSLINE_MAXBUFSIZE</a>+1];
00088 
<a name="l00089"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">00089</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">_GLOBAL_PHSLINE_STRUCT</a>
00090 {
<a name="l00091"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m0">00091</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>         <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m0">version</a>;  <span class="comment">/* only set using InitGlobalPhase() or InitGlobalLoc() */</span>
<a name="l00092"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m1">00092</a>    <a class="code" href="structMSG__LOGO.html">MSG_LOGO</a>               <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m1">logo</a>;
<a name="l00093"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m2">00093</a>    <span class="keywordtype">long</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m2">sequence</a>;
<a name="l00094"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m3">00094</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m3">station</a>[<a class="code" href="trace__buf_8h.html#a1">TRACE_STA_LEN</a>];
<a name="l00095"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m4">00095</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m4">channel</a>[<a class="code" href="trace__buf_8h.html#a2">TRACE_CHAN_LEN</a>]; <span class="comment">/* aka "component" */</span>
<a name="l00096"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m5">00096</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m5">network</a>[<a class="code" href="trace__buf_8h.html#a3">TRACE_NET_LEN</a>];
<a name="l00097"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m6">00097</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m6">location</a>[<a class="code" href="trace__buf_8h.html#a4">TRACE_LOC_LEN</a>];
<a name="l00098"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m7">00098</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m7">pick_time</a>[19];
<a name="l00099"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m8">00099</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m8">phase_name</a>[9];
<a name="l00100"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m9">00100</a>    <span class="keywordtype">double</span>                 <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m9">quality</a>;
<a name="l00101"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m10">00101</a>    <span class="keywordtype">char</span>                   <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m10">polarity</a>;
<a name="l00102"></a><a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m11">00102</a>    <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a>  <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html#m11">amps</a>[<a class="code" href="global__loc__rw_8h.html#a1">MAX_AMPS_PER_GLOBALPHASE</a>]; <span class="comment">/*  -1 because unknown/invalid not used */</span>
00103 } <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a>;
00104 
00105 
00106 
00107 
00108 
00109 <span class="comment">/* Global Location 02 (SUM line)</span>
00110 <span class="comment">**</span>
00111 <span class="comment">** SUM &lt;author&gt; &lt;version&gt; &lt;event_id&gt; &lt;origin_id&gt; &lt;origin_time&gt; &lt;lat&gt; &lt;lon&gt; &lt;z&gt; &lt;gap&gt; &lt;dmin&gt; &lt;rms&gt; &lt;id&gt; &lt;pick_count&gt; &lt;nph&gt;</span>
00112 <span class="comment">**</span>
00113 <span class="comment">** SUM 001002003 vvvvv eeeeeeeeeeeee ooooo YYYYMMDDhhmmss.sss -90.0000 -180.0000 -000.000 000.00 000.00 00.000 100000000000 10000</span>
00114 <span class="comment">**</span>
00115 <span class="comment">**           1         2         3         4         5         6         7         8         9         0         1         2         3</span>
00116 <span class="comment">** 01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123</span>
00117 <span class="comment">**</span>
00118 <span class="comment">**  NOTE: These are not fixed-width fields, the counter is only to assist in determining the maximum size</span>
00119 <span class="comment">*/</span>
00120 
<a name="l00121"></a><a class="code" href="global__loc__rw_8h.html#a4">00121</a> <span class="preprocessor">#define GLOBAL_LOC_SUM_MAXSIZE (127 + BUFF_OVERRUN_SIZE)</span>
00122 <span class="preprocessor"></span>
<a name="l00123"></a><a class="code" href="global__loc__rw_8h.html#a12">00123</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="global__loc__rw_8h.html#a12">GLOBAL_LOC_SUM_BUFFER</a>[<a class="code" href="global__loc__rw_8h.html#a4">GLOBAL_LOC_SUM_MAXSIZE</a>+1];
00124 
00125 
<a name="l00126"></a><a class="code" href="global__loc__rw_8h.html#a5">00126</a> <span class="preprocessor">#define GLOBAL_LOC_MAXPHS  250   </span><span class="comment">/* max phases in global loc msg     */</span>
00127 
<a name="l00128"></a><a class="code" href="global__loc__rw_8h.html#a6">00128</a> <span class="preprocessor">#define GLOBAL_LOC_MAXBUFSIZE (GLOBAL_LOC_SUM_MAXSIZE + (GLOBAL_LOC_MAXPHS * GLOBAL_PHSLINE_MAXBUFSIZE) )</span>
00129 <span class="preprocessor"></span>
<a name="l00130"></a><a class="code" href="global__loc__rw_8h.html#a13">00130</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="global__loc__rw_8h.html#a13">GLOBAL_LOC_BUFFER</a>[<a class="code" href="global__loc__rw_8h.html#a6">GLOBAL_LOC_MAXBUFSIZE</a>+1];
00131 
00132 
<a name="l00133"></a><a class="code" href="structGLOBAL__LOC__DATA.html">00133</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_DATA</a>
00134 {
<a name="l00135"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m0">00135</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>         <a class="code" href="structGLOBAL__LOC__DATA.html#m0">version</a>; <span class="comment">/* only set using InitGlobalLoc */</span>
<a name="l00136"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m1">00136</a>    <a class="code" href="structMSG__LOGO.html">MSG_LOGO</a>               <a class="code" href="structGLOBAL__LOC__DATA.html#m1">logo</a>;
<a name="l00137"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m2">00137</a>    <span class="keywordtype">long</span>                   <a class="code" href="structGLOBAL__LOC__DATA.html#m2">event_id</a>;
<a name="l00138"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m3">00138</a>    <span class="keywordtype">long</span>                   <a class="code" href="structGLOBAL__LOC__DATA.html#m3">origin_id</a>; <span class="comment">/* which edition of event_id contained herein */</span>
<a name="l00139"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m4">00139</a>    <span class="keywordtype">char</span>                   <a class="code" href="structGLOBAL__LOC__DATA.html#m4">origin_time</a>[19];
<a name="l00140"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m5">00140</a>    <span class="keywordtype">double</span>                 <a class="code" href="structGLOBAL__LOC__DATA.html#m5">lat</a>;
<a name="l00141"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m6">00141</a>    <span class="keywordtype">double</span>                 <a class="code" href="structGLOBAL__LOC__DATA.html#m6">lon</a>;
<a name="l00142"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m7">00142</a>    <span class="keywordtype">float</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m7">depth</a>;
<a name="l00143"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m8">00143</a>    <span class="keywordtype">float</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m8">gap</a>;
<a name="l00144"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m9">00144</a>    <span class="keywordtype">float</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m9">dmin</a>;
<a name="l00145"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m10">00145</a>    <span class="keywordtype">float</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m10">rms</a>;
<a name="l00146"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m11">00146</a>    <span class="keywordtype">short</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m11">pick_count</a>; <span class="comment">/* number of picks used to calculate origin (reported by glass) */</span>
<a name="l00147"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m12">00147</a>    <span class="keywordtype">short</span>                  <a class="code" href="structGLOBAL__LOC__DATA.html#m12">nphs</a>;       <span class="comment">/* number of valid phase structures included */</span>
<a name="l00148"></a><a class="code" href="structGLOBAL__LOC__DATA.html#m13">00148</a>    <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a>  <a class="code" href="structGLOBAL__LOC__DATA.html#m13">phases</a>[<a class="code" href="global__loc__rw_8h.html#a5">GLOBAL_LOC_MAXPHS</a>];
00149 } <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a>;
00150 
00151 
00152 
00153 
00154 
00155 
00156 
00157 
00158 
00159 <span class="comment">/* ==========================================================================</span>
00160 <span class="comment"></span>
00161 <span class="comment">**                    FUNCTION PROTOTYPES</span>
00162 <span class="comment"></span>
00163 <span class="comment">** ========================================================================= */</span>
00164 
00165 
00166 
00167 <span class="comment">/* InitGlobalAmp</span>
00168 <span class="comment">** InitGlobalPhase</span>
00169 <span class="comment">** InitGlobalLoc</span>
00170 <span class="comment">**</span>
00171 <span class="comment">**   Used to initialize, including allocate working memory for</span>
00172 <span class="comment">**   a global message struct.</span>
00173 <span class="comment">**</span>
00174 <span class="comment">**</span>
00175 <span class="comment">** PARAMETER:</span>
00176 <span class="comment">**    p_struct -- pointer to structure to contain the message information</span>
00177 <span class="comment">**</span>
00178 <span class="comment">** RETURNS:</span>
00179 <span class="comment">**    GLOBAL_MSG_SUCCESS</span>
00180 <span class="comment">**    GLOBAL_MSG_NULL = structure pointer is NULL</span>
00181 <span class="comment">*/</span>
00182 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a3">InitGlobalAmpLine</a>( <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a> * p_struct );
00183 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a4">InitGlobalPhaseLine</a>( <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_struct );
00184 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a5">InitGlobalLoc</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a> * p_struct );
00185 
00186 
00187 
00188 
00189 <span class="comment">/* WriteAmpToBuffer</span>
00190 <span class="comment">** WritePhaseToBuffer</span>
00191 <span class="comment">** WriteLocToBuffer</span>
00192 <span class="comment">**</span>
00193 <span class="comment">**    Writes a global message structure to a buffer.</span>
00194 <span class="comment">**</span>
00195 <span class="comment">** PARAMETERS:</span>
00196 <span class="comment">**    p_struct -- the source structure</span>
00197 <span class="comment">**    p_buffer -- the target buffer</span>
00198 <span class="comment">**                (on successful return, buffer will be null-terminated)</span>
00199 <span class="comment">**    p_length -- the available buffer size</span>
00200 <span class="comment">**</span>
00201 <span class="comment">** RETURNS:</span>
00202 <span class="comment">**    GLOBAL_MSG_SUCCESS</span>
00203 <span class="comment">**    GLOBAL_MSG_NULL = structure pointer is NULL</span>
00204 <span class="comment">**    GLOBAL_MSG_VERSINVALID = invalid message version</span>
00205 <span class="comment">**    GLOBAL_MSG_BADPARAM = buffer pointer is NULL</span>
00206 <span class="comment">**    GLOBAL_MSG_TOOSMALL = buffer not large enough to contain message</span>
00207 <span class="comment">**                          (may be partly written anyway)</span>
00208 <span class="comment">**    GLOBAL_MSG_DEFINESMALL = max buffer size too small for normal write</span>
00209 <span class="comment">*/</span>
00210 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a6">WriteAmpLineToBuffer</a>( <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a> * p_struct, <span class="keywordtype">char</span> * p_buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_length );
00211 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a7">WritePhaseLineToBuffer</a>( <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_struct, <span class="keywordtype">char</span> * p_buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_length );
00212 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a8">WriteLocToBuffer</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a> * p_struct, <span class="keywordtype">char</span> * p_buffer, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_length );
00213 
00214 
00215 
00216 <span class="comment">/* StringToAmp</span>
00217 <span class="comment">** StringToPhase</span>
00218 <span class="comment">** StringToLoc</span>
00219 <span class="comment">**</span>
00220 <span class="comment">**   Parses any global message from a supplied string.</span>
00221 <span class="comment">**</span>
00222 <span class="comment">**   Do not include the "PHS " or "AMP " line id strings.</span>
00223 <span class="comment">**</span>
00224 <span class="comment">** RETURNS:</span>
00225 <span class="comment">**    GLOBAL_MSG_SUCCESS</span>
00226 <span class="comment">**    GLOBAL_MSG_NULL = structure pointer is NULL</span>
00227 <span class="comment">**    GLOBAL_MSG_VERSINVALID = invalid message version</span>
00228 <span class="comment">**    GLOBAL_MSG_BADPARAM    = string pointer is NULL</span>
00229 <span class="comment">**    GLOBAL_MSG_FORMATERROR = invalid string format</span>
00230 <span class="comment">**    GLOBAL_MSG_MAXCHILDREN = too many children [StringToLoc() only]</span>
00231 <span class="comment">**    GLOBAL_MSG_BADCHILD = invalid child line [StringToLoc() only]</span>
00232 <span class="comment">*/</span>
00233 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a9">StringToAmpLine</a>( <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a> * p_amp, <span class="keywordtype">char</span> * p_string );
00234 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a10">StringToPhaseLine</a>( <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_phase, <span class="keywordtype">char</span> * p_string );
00235 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a11">StringToLoc</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a> * p_loc, <span class="keywordtype">char</span> * p_string );
00236 
00237 
00238 <span class="comment">/* AddAmpToPhase</span>
00239 <span class="comment">** AddPhaseToLoc</span>
00240 <span class="comment">**</span>
00241 <span class="comment">**    Add an Amp to a Phase, or a Phase to a Location</span>
00242 <span class="comment">**</span>
00243 <span class="comment">** RETURNS</span>
00244 <span class="comment">**    number 0 - n = index of successfully added item</span>
00245 <span class="comment">**    GLOBAL_MSG_NULL = location structure pointer is NULL</span>
00246 <span class="comment">**    GLOBAL_MSG_VERSINVALID = invalid message version (location)</span>
00247 <span class="comment">**    GLOBAL_MSG_BADPARAM = child pointer is NULL, or version invalid</span>
00248 <span class="comment">**    GLOBAL_MSG_MAXCHILDREN = too many children (of this type)</span>
00249 <span class="comment">*/</span>
00250 <span class="keywordtype">int</span> <a class="code" href="global__loc__rw_8c.html#a12">AddAmpLineToPhase</a>( <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_phase
00251                      , <a class="code" href="struct__GLOBAL__AMPLINE__STRUCT.html">GLOBAL_AMPLINE_STRUCT</a> * p_amp
00252                      );
00253 <span class="keywordtype">int</span> <a class="code" href="global__loc__rw_8c.html#a13">AddPhaseLineToLoc</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a>     * p_loc
00254                      , <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_phase
00255                      );
00256 
00257 
00258 
00259 <span class="comment">/* GetLocPhaseIndex</span>
00260 <span class="comment">**</span>
00261 <span class="comment">**    Find the location index of an Amp or Phase or Amp in another structure</span>
00262 <span class="comment">**</span>
00263 <span class="comment">** RETURNS</span>
00264 <span class="comment">**   p_loc.nphs = item does not exist in the location</span>
00265 <span class="comment">**   other = index of item in the nphs[] or namp[] array</span>
00266 <span class="comment">*/</span>
00267 <span class="keywordtype">int</span> <a class="code" href="global__loc__rw_8c.html#a14">GetLocPhaseIndex</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a>     * p_loc
00268                     , <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_phase
00269                     );
00270 
00271 <span class="comment">/* ClearAmps</span>
00272 <span class="comment">** ClearPhases</span>
00273 <span class="comment">**</span>
00274 <span class="comment">**    Used to clear work structure of children's data</span>
00275 <span class="comment">**</span>
00276 <span class="comment">** RETURNS</span>
00277 <span class="comment">**    GLOBAL_MSG_SUCCESS</span>
00278 <span class="comment">**    GLOBAL_MSG_NULL = location structure pointer is NULL</span>
00279 <span class="comment">**    GLOBAL_MSG_VERSINVALID = invalid message version</span>
00280 <span class="comment">*/</span>
00281 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a15">ClearAmpLines</a>( <a class="code" href="struct__GLOBAL__PHSLINE__STRUCT.html">GLOBAL_PHSLINE_STRUCT</a> * p_phase );
00282 <a class="code" href="global__msg_8h.html#a1">GLOBAL_MSG_STATUS</a> <a class="code" href="global__loc__rw_8c.html#a16">ClearPhaseLines</a>( <a class="code" href="structGLOBAL__LOC__DATA.html">GLOBAL_LOC_STRUCT</a> * p_loc );
00283 
00284 <span class="preprocessor">#endif</span>
00285 <span class="preprocessor"></span>
00286 
00287 
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:02 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
