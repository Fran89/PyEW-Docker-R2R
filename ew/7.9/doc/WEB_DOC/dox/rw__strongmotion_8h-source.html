<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>rw_strongmotion.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>rw_strongmotion.h</h1><a href="rw__strongmotion_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">/*</span>
00003 <span class="comment"> *   THIS FILE IS UNDER RCS - DO NOT MODIFY UNLESS YOU HAVE</span>
00004 <span class="comment"> *   CHECKED IT OUT USING THE COMMAND CHECKOUT.</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> *    $Id: rw__strongmotion_8h-source.html 2161 2006-05-19 16:55:03Z paulf $</span>
00007 <span class="comment"> *</span>
00008 <span class="comment"> *    Revision history:</span>
00009 <span class="comment"> *     $Log$
00009 <span class="comment"> *     Revision 1.1  2006/05/19 16:55:02  paulf
00009 <span class="comment"> *     first inclusion
00009 <span class="comment"> *</span>
00010 <span class="comment"> *     Revision 1.3  2001/02/06 18:31:40  dietz</span>
00011 <span class="comment"> *     added definition of GRAVITY_CGS</span>
00012 <span class="comment"> *</span>
00013 <span class="comment"> *     Revision 1.2  2000/11/03 18:16:01  dietz</span>
00014 <span class="comment"> *     Changed SM_MAX_CHAN from 6 to 18 (to accommodate K2 data)</span>
00015 <span class="comment"> *</span>
00016 <span class="comment"> *     Revision 1.1  2000/02/14 20:05:54  lucky</span>
00017 <span class="comment"> *     Initial revision</span>
00018 <span class="comment"> *</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> */</span>
00021 
00022 <span class="comment">/* rw_strongmotion.h</span>
00023 <span class="comment"> *</span>
00024 <span class="comment"> * Header file for the functions in rw_strongmotion.c that</span>
00025 <span class="comment"> * convert from a TYPE_STRONGMOTION message to a structure </span>
00026 <span class="comment"> * and visa versa.</span>
00027 <span class="comment"> * </span>
00028 <span class="comment"> * Each TYPE_STRONGMOTION message is intended to contain information</span>
00029 <span class="comment"> * from all the channels of one physical field unit.  </span>
00030 <span class="comment"> * Timestamps are in seconds since 1970/01/01 00:00:00.00 UTC.</span>
00031 <span class="comment"> * Data are in units of cgs.</span>
00032 <span class="comment"> *</span>
00033 <span class="comment"> * written by Lynn Dietz   October, 1999</span>
00034 <span class="comment"> */</span>
00035 
00036 <span class="preprocessor">#ifndef RW_STRONGMOTION_H</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#define RW_STRONGMOTION_H</span>
00038 <span class="preprocessor"></span>
00039 <span class="comment">/* Usefult constants</span>
00040 <span class="comment"> *******************/</span>
<a name="l00041"></a><a class="code" href="rw__strongmotion_8h.html#a0">00041</a> <span class="preprocessor">#define GRAVITY_CGS 978.03    </span><span class="comment">/* Gravity in cm/sec/sec */</span>
00042 
00043 <span class="comment">/* Define maximum lengths for strings/arrays </span>
00044 <span class="comment">   in and Earthworm TYPE_STRONGMOTION message</span>
00045 <span class="comment"> ********************************************/</span>
<a name="l00046"></a><a class="code" href="rw__strongmotion_8h.html#a1">00046</a> <span class="preprocessor">#define SM_VENDOR_LEN 49</span>
<a name="l00047"></a><a class="code" href="rw__strongmotion_8h.html#a2">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_STA_LEN     6</span>
<a name="l00048"></a><a class="code" href="rw__strongmotion_8h.html#a3">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_COMP_LEN    8</span>
<a name="l00049"></a><a class="code" href="rw__strongmotion_8h.html#a4">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_NET_LEN     8</span>
<a name="l00050"></a><a class="code" href="rw__strongmotion_8h.html#a5">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_LOC_LEN     5</span>
<a name="l00051"></a><a class="code" href="rw__strongmotion_8h.html#a6">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_MAX_CHAN   18         </span><span class="comment">/* max # channels in a TYPE_SM message       */</span>
<a name="l00052"></a><a class="code" href="rw__strongmotion_8h.html#a7">00052</a> <span class="preprocessor">#define SM_MAX_RSA    25         </span><span class="comment">/* max # spectral values for a given channel */</span>
<a name="l00053"></a><a class="code" href="rw__strongmotion_8h.html#a8">00053</a> <span class="preprocessor">#define SM_NULL       -1         </span><span class="comment">/* null value for freq &amp; RSA                 */</span>
00054 
00055 <span class="comment">/* Sources for the alternate time in the SM_DATA structure</span>
00056 <span class="comment"> *********************************************************/</span>
<a name="l00057"></a><a class="code" href="rw__strongmotion_8h.html#a9">00057</a> <span class="preprocessor">#define SM_ALTCODE_NONE                0</span>
<a name="l00058"></a><a class="code" href="rw__strongmotion_8h.html#a10">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_ALTCODE_RECEIVING_MODULE    1</span>
<a name="l00059"></a><a class="code" href="rw__strongmotion_8h.html#a11">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_ALTCODE_DATABASE            2</span>
<a name="l00060"></a><a class="code" href="rw__strongmotion_8h.html#a12">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_ALTCODE_AUTOMATED_REVIEWER  3</span>
<a name="l00061"></a><a class="code" href="rw__strongmotion_8h.html#a13">00061</a> <span class="preprocessor"></span><span class="preprocessor">#define SM_ALTCODE_HUMAN_REVIEWER      4</span>
00062 <span class="preprocessor"></span>
00063 <span class="comment">/* Structure to contain strongmotion data from one channel</span>
00064 <span class="comment">   In the comments below, NTS = Null Terminated String</span>
00065 <span class="comment"> *********************************************************/</span>
<a name="l00066"></a><a class="code" href="struct__SM__CHAN.html">00066</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SM__CHAN.html">_SM_CHAN</a> {
<a name="l00067"></a><a class="code" href="struct__SM__CHAN.html#m0">00067</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__CHAN.html#m0">sta</a>[<a class="code" href="rw__strongmotion_8h.html#a2">SM_STA_LEN</a>+1];    <span class="comment">/* NTS: Site code as per IRIS SEED                */</span>  
<a name="l00068"></a><a class="code" href="struct__SM__CHAN.html#m1">00068</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__CHAN.html#m1">comp</a>[<a class="code" href="rw__strongmotion_8h.html#a3">SM_COMP_LEN</a>+1];  <span class="comment">/* NTS: Component code as per IRIS SEED           */</span>  
<a name="l00069"></a><a class="code" href="struct__SM__CHAN.html#m2">00069</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__CHAN.html#m2">net</a>[<a class="code" href="rw__strongmotion_8h.html#a4">SM_NET_LEN</a>+1];    <span class="comment">/* NTS: Network code as per IRIS SEED             */</span>
<a name="l00070"></a><a class="code" href="struct__SM__CHAN.html#m3">00070</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__CHAN.html#m3">loc</a>[<a class="code" href="rw__strongmotion_8h.html#a5">SM_LOC_LEN</a>+1];    <span class="comment">/* NTS: Location code as per IRIS SEED            */</span>
<a name="l00071"></a><a class="code" href="struct__SM__CHAN.html#m4">00071</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__CHAN.html#m4">acc</a>;                  <span class="comment">/* peak acceleration (cm/sec/sec)                 */</span>
<a name="l00072"></a><a class="code" href="struct__SM__CHAN.html#m5">00072</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__CHAN.html#m5">vel</a>;                  <span class="comment">/* peak velocity (cm/sec)                         */</span>
<a name="l00073"></a><a class="code" href="struct__SM__CHAN.html#m6">00073</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__CHAN.html#m6">disp</a>;                 <span class="comment">/* peak displacement (cm)                         */</span>
<a name="l00074"></a><a class="code" href="struct__SM__CHAN.html#m7">00074</a>    <span class="keywordtype">int</span>     <a class="code" href="struct__SM__CHAN.html#m7">nRSA</a>;                 <span class="comment">/* # pts describing response spectrum accel (RSA) */</span>
<a name="l00075"></a><a class="code" href="struct__SM__CHAN.html#m8">00075</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__CHAN.html#m8">freq</a>[<a class="code" href="rw__strongmotion_8h.html#a7">SM_MAX_RSA</a>];     <span class="comment">/* frequencies at which RSA values are given      */</span>
<a name="l00076"></a><a class="code" href="struct__SM__CHAN.html#m9">00076</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__CHAN.html#m9">RSA</a>[<a class="code" href="rw__strongmotion_8h.html#a7">SM_MAX_RSA</a>];      <span class="comment">/* RSA value for this channel at given frequency  */</span> 
00077 } <a class="code" href="struct__SM__CHAN.html">SM_CHAN</a>;
00078 
00079 <span class="comment">/* Structure to contain all strongmotion data from one instrument</span>
00080 <span class="comment">   In the comments below, NTS = Null Terminated String,</span>
00081 <span class="comment">   OPTIONAL marks a field that need not be entered for data to</span>
00082 <span class="comment">   be considered valid (these fields may be filled in later in DBMS).</span>
00083 <span class="comment"> ********************************************************************/</span>
<a name="l00084"></a><a class="code" href="struct__SM__DATA.html">00084</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SM__DATA.html">_SM_DATA</a> {
<a name="l00085"></a><a class="code" href="struct__SM__DATA.html#m0">00085</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__DATA.html#m0">vendor</a>[<a class="code" href="rw__strongmotion_8h.html#a1">SM_VENDOR_LEN</a>+1]; <span class="comment">/* NTS: Name of company producing this device */</span>
<a name="l00086"></a><a class="code" href="struct__SM__DATA.html#m1">00086</a>    <span class="keywordtype">char</span>    <a class="code" href="struct__SM__DATA.html#m1">sn</a>[<a class="code" href="rw__strongmotion_8h.html#a1">SM_VENDOR_LEN</a>+1];     <span class="comment">/* NTS: identifying (serial?) number of box   */</span>
<a name="l00087"></a><a class="code" href="struct__SM__DATA.html#m2">00087</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__DATA.html#m2">tfield</a>;                  <span class="comment">/* field time, reported by SM box (seconds    */</span>
00088                                     <span class="comment">/*   since 1970/01/01 00:00:00.00)            */</span>
<a name="l00089"></a><a class="code" href="struct__SM__DATA.html#m3">00089</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__DATA.html#m3">talt</a>;                    <span class="comment">/* OPTIONAL: alternate time, reported by      */</span>
00090                                     <span class="comment">/*   nobody, acq. software, analyst, etc.     */</span>
<a name="l00091"></a><a class="code" href="struct__SM__DATA.html#m4">00091</a>    <span class="keywordtype">int</span>     <a class="code" href="struct__SM__DATA.html#m4">altcode</a>;                 <span class="comment">/* OPTIONAL: code specifying the source of    */</span>
00092                                     <span class="comment">/*   the alternate time field                 */</span>
<a name="l00093"></a><a class="code" href="struct__SM__DATA.html#m5">00093</a>    <span class="keywordtype">double</span>  <a class="code" href="struct__SM__DATA.html#m5">tload</a>;                   <span class="comment">/* OPTIONAL: time data was loaded into DBMS   */</span>
<a name="l00094"></a><a class="code" href="struct__SM__DATA.html#m6">00094</a>    <span class="keywordtype">int</span>     <a class="code" href="struct__SM__DATA.html#m6">nch</a>;                     <span class="comment">/* # channels contained in this structure     */</span>
<a name="l00095"></a><a class="code" href="struct__SM__DATA.html#m7">00095</a>    <a class="code" href="struct__SM__CHAN.html">SM_CHAN</a> <a class="code" href="struct__SM__DATA.html#m7">ch</a>[<a class="code" href="k2evt2ew_8h.html#a4">SM_MAX_CHAN</a>];         <span class="comment">/* actual data for each channel in this box   */</span>
00096 } <a class="code" href="struct__SM__DATA.html">SM_DATA</a>;
00097 
00098 <span class="comment">/* Function Prototypes</span>
00099 <span class="comment"> *********************/</span>
00100 <span class="keywordtype">int</span>  <a class="code" href="rw__strongmotion_8c.html#a4">rd_strongmotion</a>( <span class="keywordtype">char</span> *msg, <span class="keywordtype">int</span> msglen, <a class="code" href="struct__SM__DATA.html">SM_DATA</a> *sm );
00101 <span class="keywordtype">int</span>  <a class="code" href="rw__strongmotion_8c.html#a5">wr_strongmotion</a>( <a class="code" href="struct__SM__DATA.html">SM_DATA</a> *sm, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> buflen );
00102 <span class="keywordtype">void</span> <a class="code" href="rw__strongmotion_8c.html#a6">log_strongmotion</a>( <a class="code" href="struct__SM__DATA.html">SM_DATA</a> *sm );
00103 
00104 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:08 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
