<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>worm_exceptions.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>worm_exceptions.h</h1><a href="worm__exceptions_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//---------------------------------------------------------------------------</span>
00002 <span class="preprocessor">#ifndef worm_exceptionsH</span>
00003 <span class="preprocessor"></span><span class="preprocessor">#define worm_exceptionsH</span>
00004 <span class="preprocessor"></span><span class="comment">//---------------------------------------------------------------------------</span>
00005 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00006 <span class="comment">// microsoft pragma to avoid warnings from STL</span>
00007 <span class="preprocessor">#pragma warning(disable:4786)</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#include &lt;string&gt;</span>
00009 <span class="preprocessor">#include &lt;string.h&gt;</span>
00010 <span class="preprocessor">#include &lt;exception&gt;</span>
00011 
00012 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00013"></a><a class="code" href="classworm__exception.html">00013</a> <span class="keyword">class </span><a class="code" href="classworm__exception.html">worm_exception</a> : <span class="keyword">public</span> std::exception
00014 {
00015 <span class="keyword">protected</span>:
<a name="l00016"></a><a class="code" href="classworm__exception.html#n0">00016</a>    std::string <a class="code" href="classworm__exception.html#n0">What</a>;
00017 <span class="keyword">public</span>:
<a name="l00018"></a><a class="code" href="classworm__exception.html#a0">00018</a>    <a class="code" href="classworm__exception.html#a0">worm_exception</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * p_message )
00019    {
00020       <span class="keywordflow">if</span> ( p_message == NULL )
00021       {
00022          What = <span class="stringliteral">""</span>;
00023       }
00024       <span class="keywordflow">else</span>
00025       {
00026          What.reserve( strlen(p_message) );
00027          What = p_message;
00028       }
00029    }
<a name="l00030"></a><a class="code" href="classworm__exception.html#a1">00030</a>    <a class="code" href="classworm__exception.html#a0">worm_exception</a>( <span class="keyword">const</span> std::string &amp; p_message )
00031    {
00032       What = p_message;
00033    }
<a name="l00034"></a><a class="code" href="classworm__exception.html#a2">00034</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a2">operator= </a>( <a class="code" href="classworm__exception.html">worm_exception</a> &amp; p_other )
00035    {
00036       What = p_other.<a class="code" href="classworm__exception.html#a9">what</a>();
00037       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00038    }
<a name="l00039"></a><a class="code" href="classworm__exception.html#a3">00039</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a2">operator= </a>( <a class="code" href="classworm__exception.html">worm_exception</a> * p_other )
00040    {
00041       What = p_other-&gt;<a class="code" href="classworm__exception.html#a9">what</a>();
00042       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00043    }
<a name="l00044"></a><a class="code" href="classworm__exception.html#a4">00044</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a4">operator+= </a>( <span class="keyword">const</span> <span class="keywordtype">int</span> p_value )
00045    {
00046       <span class="keywordtype">char</span> _i[15];
00047       sprintf( _i , <span class="stringliteral">"%d"</span> , p_value );
00048       What.reserve( What.size() + strlen(_i) );
00049       What += _i;
00050       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00051    }
<a name="l00052"></a><a class="code" href="classworm__exception.html#a5">00052</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a4">operator+= </a>( <span class="keyword">const</span> <span class="keywordtype">long</span> p_value )
00053    {
00054       <span class="keywordtype">char</span> _i[18];
00055       sprintf( _i , <span class="stringliteral">"%d"</span> , p_value );
00056       What.reserve( What.size() + strlen(_i) );
00057       What += _i;
00058       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00059    }
<a name="l00060"></a><a class="code" href="classworm__exception.html#a6">00060</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a4">operator+= </a>( <span class="keyword">const</span> <span class="keywordtype">double</span> p_value )
00061    {
00062       <span class="keywordtype">char</span> _f[15];
00063       sprintf( _f , <span class="stringliteral">"%f"</span> , p_value );
00064       What.reserve( What.size() + strlen(_f) );
00065       What += _f;
00066       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00067    }
<a name="l00068"></a><a class="code" href="classworm__exception.html#a7">00068</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a4">operator+= </a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * p_text )
00069    {
00070       <span class="keywordflow">if</span> ( p_text != NULL )
00071       {
00072          What.reserve( What.size() + strlen(p_text) );
00073          What += p_text;
00074       }
00075       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00076    }
<a name="l00077"></a><a class="code" href="classworm__exception.html#a8">00077</a>    <a class="code" href="classworm__exception.html">worm_exception</a> <a class="code" href="classworm__exception.html#a4">operator+= </a>( <span class="keyword">const</span> std::string p_text )
00078    {
00079       What += p_text;
00080       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00081    }
<a name="l00082"></a><a class="code" href="classworm__exception.html#a9">00082</a>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classworm__exception.html#a9">what</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> What.c_str(); }
<a name="l00083"></a><a class="code" href="classworm__exception.html#a10">00083</a>    std::string <a class="code" href="classworm__exception.html#a10">what_string</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> What; }
00084 };
00085 <span class="comment">//---------------------------------------------------------------------------</span>
00086 <span class="comment">//</span>
00087 <span class="comment">// the main purpose for the following classes is to allow applications</span>
00088 <span class="comment">// to distinguish among and handle different conditions based on</span>
00089 <span class="comment">// exception class.</span>
00090 <span class="comment">//</span>
00091 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00092"></a><a class="code" href="classtimeout__exception.html">00092</a> <span class="keyword">class </span><a class="code" href="classtimeout__exception.html">timeout_exception</a> : <span class="keyword">public</span> <a class="code" href="classworm__exception.html">worm_exception</a>
00093 {
00094 <span class="keyword">public</span>:
<a name="l00095"></a><a class="code" href="classtimeout__exception.html#a0">00095</a>    <a class="code" href="classtimeout__exception.html#a0">timeout_exception</a>() : <a class="code" href="classworm__exception.html">worm_exception</a>( "timed out" ) { }
<a name="l00096"></a><a class="code" href="classtimeout__exception.html#a1">00096</a>    <a class="code" href="classtimeout__exception.html#a0">timeout_exception</a>( <span class="keywordtype">char</span> * p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
<a name="l00097"></a><a class="code" href="classtimeout__exception.html#a2">00097</a>    <a class="code" href="classtimeout__exception.html#a0">timeout_exception</a>( std::string &amp; p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
00098 };
00099 
00100 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00101"></a><a class="code" href="classlength__exception.html">00101</a> <span class="keyword">class </span><a class="code" href="classlength__exception.html">length_exception</a> : <span class="keyword">public</span> <a class="code" href="classworm__exception.html">worm_exception</a>
00102 {
00103 <span class="keyword">public</span>:
<a name="l00104"></a><a class="code" href="classlength__exception.html#a0">00104</a>    <a class="code" href="classlength__exception.html#a0">length_exception</a>() : <a class="code" href="classworm__exception.html">worm_exception</a>( "length error" ) { }
<a name="l00105"></a><a class="code" href="classlength__exception.html#a1">00105</a>    <a class="code" href="classlength__exception.html#a0">length_exception</a>( <span class="keywordtype">char</span> * p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
<a name="l00106"></a><a class="code" href="classlength__exception.html#a2">00106</a>    <a class="code" href="classlength__exception.html#a0">length_exception</a>( std::string &amp; p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
00107 };
00108 
00109 <span class="comment">//---------------------------------------------------------------------------</span>
<a name="l00110"></a><a class="code" href="classcancel__exception.html">00110</a> <span class="keyword">class </span><a class="code" href="classcancel__exception.html">cancel_exception</a> : <span class="keyword">public</span> <a class="code" href="classworm__exception.html">worm_exception</a>
00111 {
00112 <span class="keyword">public</span>:
<a name="l00113"></a><a class="code" href="classcancel__exception.html#a0">00113</a>    <a class="code" href="classcancel__exception.html#a0">cancel_exception</a>() : <a class="code" href="classworm__exception.html">worm_exception</a>( "cancelled" ) { }
<a name="l00114"></a><a class="code" href="classcancel__exception.html#a1">00114</a>    <a class="code" href="classcancel__exception.html#a0">cancel_exception</a>( <span class="keywordtype">char</span> * p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
<a name="l00115"></a><a class="code" href="classcancel__exception.html#a2">00115</a>    <a class="code" href="classcancel__exception.html#a0">cancel_exception</a>( std::string &amp; p_what ) : <a class="code" href="classworm__exception.html">worm_exception</a>( p_what ) { }
00116 };
00117 
00118 <span class="comment">//---------------------------------------------------------------------------</span>
00119 
00120 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Tue May 6 09:16:13 2003 for Earthworm Libs by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc3 </small></address>
</body>
</html>
