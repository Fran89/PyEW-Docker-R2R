<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      psnadsend – Earthworm
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://earthwormcentral.com/trac/ew/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://earthwormcentral.com/trac/ew/wiki/psnadsend?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://earthwormcentral.com/trac/ew/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/jsgantt.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/tracjsgantt.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="http://earthwormcentral.com/trac/ew/search/opensearch" title="Search Earthworm" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/tracjsgantt/jsgantt.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/ew/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://earthwormcentral.com/trac/ew"><img src="../chrome/site/images/ew.logo_tiny.png" alt="" /></a>
      </div>
      <form id="search" action="http://earthwormcentral.com/trac/ew/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://earthwormcentral.com/trac/ew/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="http://earthwormcentral.com/trac/ew/about">About Trac</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://earthwormcentral.com/trac/ew/wiki">Wiki</a></li><li><a href="http://earthwormcentral.com/trac/ew/timeline">Timeline</a></li><li><a href="http://earthwormcentral.com/trac/ew/roadmap">Roadmap</a></li><li><a href="http://earthwormcentral.com/trac/ew/browser">Browse Source</a></li><li><a href="http://earthwormcentral.com/trac/ew/query">View Tickets</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://earthwormcentral.com/trac/ew/wiki">wiki:</a><a class="pathentry" href="psnadsend.html" title="View psnadsend">psnadsend</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/wiki/psnadsend?action=history">History</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          
          <div class="trac-modifiedby">
            <span><a href="http://earthwormcentral.com/trac/ew/wiki/psnadsend?action=diff&amp;version=2" title="Version 2 by branden">Last modified</a> <a class="timeline" href="http://earthwormcentral.com/trac/ew/timeline?from=2012-03-19T17%3A43%3A38-07%3A00&amp;precision=second" title="2012-03-19T17:43:38-07:00 in Timeline">18 months</a> ago</span>
            <span class="trac-print">Last modified on 03/19/12 17:43:38</span>
          </div>
          <div id="wikipage"><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="psnadsend.html#EarthwormModule:psnadsend">Earthworm Module: psnadsend</a>
    <ol>
      <li>
        <a href="psnadsend.html#Function">Function</a>
      </li>
      <li>
        <a href="psnadsend.html#Details">Details</a>
        <ol>
          <li>
            <a href="psnadsend.html#ExampleConfigurationFile">Example Configuration File</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="psnadsend.html#HelpfulHints">Helpful Hints</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="EarthwormModule:psnadsend"><a class="wiki" href="Earthworm.html">Earthworm</a> Module: psnadsend</h1>
<p>
<strong>Contributed by: </strong>
</p>
<h2 id="Function">Function</h2>
<p>
PSNadsend for Public Seismic Network (webtronics digitizer) (new in EW v7.1)
</p>
<h2 id="Details">Details</h2>
<p>
PsnAdSend is another digitizing program similar to ADsend for Earthworm. This module runs under Windows 2000 or XP and produces demultiplexed data to one of the transport data rings. This program was designed to work with the Webtronics 16-Bit 8-Channel <a class="ext-link" href="http://www.seismicnet.com/serialatod.html"><span class="icon">​</span>PSN-ADC-SERIAL</a> RS-232 serial output Analog to Digital board. This ADC board can record 1 to 8 channels at up to 200 SPS each. To use this board you will need one free RS-232 Comm port. If the system only has USB ports, a USB to RS-232 converter can be used between the computer and the ADC board. 
</p>
<p>
This module was built using Microsoft Visual C++ 6.0. The program (PsnAdSend.exe) has been tested using Earthworm version 7.0 The PsnAdSend program uses the PSNADBoard.dll to interface between the program and the ADC board. See this <a class="ext-link" href="http://www.seismicnet.com/PSNADBoardDLL.html"><span class="icon">​</span>page</a> for more information on the DLL.
</p>
<p>
Data Time Stamping:
</p>
<p>
The PSN-ADC-SERIAL board and the PSNADBoard.dll can use various methods to time stamp the data. The most accurate timing (&lt; 4 milliseconds) can be achieved using a GPS receiver connected to the ADC board. Currently the board supports the Garmin GPS 16, <a class="ext-link" href="http://www.seismicnet.com/gps/gps18.html"><span class="icon">​</span>Garmin GPS 18</a> Sensors or the Motorola ONCORE receiver series.  WWV, with the optional WWV circuitry on the ADC board, can also be used here in the United States. This option requires a Short-wave receiver tuned to one of the WWV transmitter stations at 2.5, 5, 10 or 15 Mhz.  Using this method as a time reference, the user can achieve an accuracy of 20 to 30 milliseconds. The computer's time can also be used to time stamp the data. If the system is running a program like the NT port of NTP, the user can expect an overall accuracy of around +-50 milliseconds.
</p>
<h3 id="ExampleConfigurationFile">Example Configuration File</h3>
<pre class="wiki">#
#                    CONFIGURATION FILE FOR PSNADSEND
#                    -----------------------------
ModuleId         MOD_PSNADSEND_A        # Module id of this instance of PsnAdSend
OutRing          WAVE_RING              # Transport ring to write waveforms to
CommPort         1                      # Comm port number
PortSpeed        38400                  # Comm port baud rate, can be set to 9600, 19200, 38400 or 57600
#
#                        CHANNEL CONFIGURATION
Nchan            8                      # Specify number of channels to record, can 1 to 8
ChanRate         100                    # Sampling rate in samples per second, can be 5, 10, 20, 50, 100 or 200
#
#                         TIMING INFORMATION
HeartbeatInt     15                     # Heartbeat interval in seconds
TimeoutNoSend    30                     # Time in seconds before program will reset if no data from ADC board
TimeoutNoSynch   60                     # Not used
UpdateSysClock   0                      # 1 = PC time updated with AD board time
HighToLowPPS     0                      # 1 = PPS signal direction is High to Low
TimeOffset       0                      # Time Reference offset in milliseconds
#
# Time Reference Types:
# 0 = Use PC Time, 1 = Garmin GPS 16 or 18, 2 = Motorola ONCORE NMEA, 
# 3 = Motorola ONCORE Binary, 4 = WWV (must have WWV option on the ADC board )
#
TimeRefType      0                      # One of the types above
TimeFilePath     c:\earthworm\          # where to place the time.dat file
#
#			  
#                          OTHER INFORMATION
LogMessages      1                      # 1 = Log messages from DLL &amp; ADC to log file
NoPPSLedStatus   0                      # 1 = Disable 1PPS LED blinking
AdcDataSize      2                      # ADC trace buffer data size in bytes. Can be 2 or 4 bytes
#
#
#               SCNL (Station/Component/Network/Location) FOR EACH ADC CHANNEL
# Chan lines must follow the Channel Configuration lines in this file. There should
# be Nchan (see above) SCNL lines.
# 
#     Chan  Station/Comp/Network/Location
#   -------   --------------
Chan    0       PSN BHZ PN NC
Chan    1       PSN BHN PN NC
Chan    2       PSN BHE PN NC
Chan    3       PSN LHZ PN NC
Chan    4       PSN LHN PN NC
Chan    5       PSN LHE PN NC
Chan    6       PSN SHZ PN NC
Chan    7       PSN SHN PN NC
#-----------------------------
#
</pre><h2 id="HelpfulHints">Helpful Hints</h2>
</div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://earthwormcentral.com/trac/ew/wiki/psnadsend?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="http://earthwormcentral.com/trac/ew/about"><strong>Trac 0.12.4</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>