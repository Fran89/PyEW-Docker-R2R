<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      windsr2ew – Earthworm
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://earthwormcentral.com/trac/ew/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://earthwormcentral.com/trac/ew/wiki/windsr2ew?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://earthwormcentral.com/trac/ew/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/jsgantt.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/tracjsgantt.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="http://earthwormcentral.com/trac/ew/search/opensearch" title="Search Earthworm" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/tracjsgantt/jsgantt.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/ew/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://earthwormcentral.com/trac/ew"><img src="../chrome/site/images/ew.logo_tiny.png" alt="" /></a>
      </div>
      <form id="search" action="http://earthwormcentral.com/trac/ew/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://earthwormcentral.com/trac/ew/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="http://earthwormcentral.com/trac/ew/about">About Trac</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://earthwormcentral.com/trac/ew/wiki">Wiki</a></li><li><a href="http://earthwormcentral.com/trac/ew/timeline">Timeline</a></li><li><a href="http://earthwormcentral.com/trac/ew/roadmap">Roadmap</a></li><li><a href="http://earthwormcentral.com/trac/ew/browser">Browse Source</a></li><li><a href="http://earthwormcentral.com/trac/ew/query">View Tickets</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://earthwormcentral.com/trac/ew/wiki">wiki:</a><a class="pathentry" href="windsr2ew.html" title="View windsr2ew">windsr2ew</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/wiki/windsr2ew?action=history">History</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          
          <div class="trac-modifiedby">
            <span><a href="http://earthwormcentral.com/trac/ew/wiki/windsr2ew?action=diff&amp;version=1" title="Version 1 by branden">Last modified</a> <a class="timeline" href="http://earthwormcentral.com/trac/ew/timeline?from=2012-03-19T18%3A22%3A31-07%3A00&amp;precision=second" title="2012-03-19T18:22:31-07:00 in Timeline">18 months</a> ago</span>
            <span class="trac-print">Last modified on 03/19/12 18:22:31</span>
          </div>
          <div id="wikipage"><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="windsr2ew.html#EarthwormModule:windsr2ew">Earthworm Module: windsr2ew</a>
    <ol>
      <li>
        <a href="windsr2ew.html#Function">Function</a>
      </li>
      <li>
        <a href="windsr2ew.html#Details">Details</a>
        <ol>
          <li>
            <a href="windsr2ew.html#DataTimeStamping">Data Time Stamping</a>
          </li>
          <li>
            <a href="windsr2ew.html#ExampleConfigurationFile">Example Configuration File</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="windsr2ew.html#HelpfulHints">Helpful Hints</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="EarthwormModule:windsr2ew"><a class="wiki" href="Earthworm.html">Earthworm</a> Module: windsr2ew</h1>
<p>
<strong>Contributed by: </strong>
</p>
<h2 id="Function">Function</h2>
<p>
Receives data packets from a windsr digitizer (webtronics) using TCP/IP. (new in EW v7.1)
</p>
<h2 id="Details">Details</h2>
<p>
WinSDR to Earthworm (ws2ew.exe) is a way of receiving digitized data in real-time using TCP/IP from the Webtronics <a class="ext-link" href="http://www.seismicnet.com/winsdr/"><span class="icon">​</span>WinSDR</a> datalogger to  Earthworm. This module runs under Windows 2000 or XP and produces demultiplexed data to one of the transport data rings. WinSDR must be setup to act as a TCP/IP data server. Ws2Ew acts as a client to receive, demultiplexe  and send data to one of the Earthworm transport rings. This module is similar to the LISS2EW client that comes with the Earthworm release package. WinSDR is the Windows based datalogger for the 16-Bit 8-Channel <a class="ext-link" href="http://www.seismicnet.com/serialatod.html"><span class="icon">​</span>PSN-ADC-SERIAL</a> Analog to Digital board. 
</p>
<p>
This module was built using Microsoft Visual C++ 6.0. The program (ws2ew.exe) has been tested using Earthworm version 7.0.
</p>
<p>
To use this module you first need to enable the WinSDR server feature. See the WinSDR <a class="ext-link" href="http://www.seismicnet.com/winsdr/"><span class="icon">​</span>documentation</a> for more information. You will also need to set the TCP/IP port number (default=16064) and note the IP address of the server, the sample rate and the number of channels being recorded. All of this information is needed in the ws2ew.d configuration file. If the sample rate or number of channels are incorrect, the program will write an error message in the log file and exit.
</p>
<h3 id="DataTimeStamping">Data Time Stamping</h3>
<p>
All data is time stamped at the WinSDR server side. WinSDR can use various methods to time stamp the data including GPS, WWV or the computer's system time. 
</p>
<h3 id="ExampleConfigurationFile">Example Configuration File</h3>
<pre class="wiki">#
#                    CONFIGURATION FILE FOR WS2EW
#                    -----------------------------
ModuleId         MOD_WS2EW_A    # Module id of this instance of Ws2Ew
OutRing          WAVE_RING      # Transport ring to write waveforms to
Host             10.0.0.10      # Host name or IP address of the system running WinSDR
Port             16064          # Port number to use when connecting to WinSDR 
HeartbeatInt     15             # Heartbeat interval in seconds
AdcDataSize      2              # ADC trace buffer data size in bytes. Can be 2 or 4 bytes
#
#                        OPTION PARAMETERS
SocketTimeout   60              # Socket timeout in seconds (default = 60)
RestartWaitTime 60              # Seconds to wait between reconnects (default = 60)
NoDataWaitTime  45              # Seconds to wait before resetting connection
NoHostMessages  1               # If 1 log messages from the host will not be processed (default = 0) 
#
#                        CHANNEL CONFIGURATION
Nchan            8              # Number of channels running on the host WinSDR system
ChanRate         100            # Sampling rate of the WinSDR system
#
#
#     SCNL (Station/Component/Network/Location) VALUES FOR EACH DAQ CHANNEL
# Chan lines must follow the Channel Configuration lines in this file.
#
#     DAQ      Station/
#   Channel    Comp/Net/Loc    Send to Earthworm
#   -------   --------------   -----------
Chan    0     PSN1 BHZ PN NC       YES
Chan    1     PSN1 BHN PN NC       NO
Chan    2     PSN1 BHE PN NC       YES
Chan    3     PSN1 LHZ PN NC       YES
Chan    4     PSN1 LHN PN NC       NO
Chan    5     PSN1 LHE PN NC       NO
Chan    6     PSN1 SHZ PN NC       NO
Chan    7     PSN1 SHN PN NC       YES
#
</pre><h2 id="HelpfulHints">Helpful Hints</h2>
</div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://earthwormcentral.com/trac/ew/wiki/windsr2ew?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="http://earthwormcentral.com/trac/ew/about"><strong>Trac 0.12.4</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>