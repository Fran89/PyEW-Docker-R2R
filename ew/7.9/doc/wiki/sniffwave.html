<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      sniffwave â€“ Earthworm
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://earthwormcentral.com/trac/ew/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://earthwormcentral.com/trac/ew/wiki/sniffwave?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://earthwormcentral.com/trac/ew/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/jsgantt.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/tracjsgantt.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="http://earthwormcentral.com/trac/ew/search/opensearch" title="Search Earthworm" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/tracjsgantt/jsgantt.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/ew/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://earthwormcentral.com/trac/ew"><img src="../chrome/site/images/ew.logo_tiny.png" alt="" /></a>
      </div>
      <form id="search" action="http://earthwormcentral.com/trac/ew/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://earthwormcentral.com/trac/ew/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="http://earthwormcentral.com/trac/ew/about">About Trac</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://earthwormcentral.com/trac/ew/wiki">Wiki</a></li><li><a href="http://earthwormcentral.com/trac/ew/timeline">Timeline</a></li><li><a href="http://earthwormcentral.com/trac/ew/roadmap">Roadmap</a></li><li><a href="http://earthwormcentral.com/trac/ew/browser">Browse Source</a></li><li><a href="http://earthwormcentral.com/trac/ew/query">View Tickets</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://earthwormcentral.com/trac/ew/wiki">wiki:</a><a class="pathentry" href="sniffwave.html" title="View sniffwave">sniffwave</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/wiki/sniffwave?action=history">History</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          
          <div class="trac-modifiedby">
            <span><a href="http://earthwormcentral.com/trac/ew/wiki/sniffwave?action=diff&amp;version=1" title="Version 1 by branden">Last modified</a> <a class="timeline" href="http://earthwormcentral.com/trac/ew/timeline?from=2012-02-26T12%3A48%3A23-08%3A00&amp;precision=second" title="2012-02-26T12:48:23-08:00 in Timeline">19 months</a> ago</span>
            <span class="trac-print">Last modified on 02/26/12 12:48:23</span>
          </div>
          <div id="wikipage"><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="sniffwave.html#EarthwormModule:sniffwave">Earthworm Module: sniffwave</a>
    <ol>
      <li>
        <a href="sniffwave.html#Function">Function</a>
      </li>
      <li>
        <a href="sniffwave.html#Details">Details</a>
      </li>
      <li>
        <a href="sniffwave.html#HelpfulHints">Helpful Hints</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="EarthwormModule:sniffwave"><a class="wiki" href="Earthworm.html">Earthworm</a> Module: sniffwave</h1>
<p>
<strong>Contributed by: </strong>
</p>
<h2 id="Function">Function</h2>
<p>
Reads waveform messages from Earthworm transport ring and for each message, prints the logo and header information to the screen.
</p>
<h2 id="Details">Details</h2>
<p>
Program to read waveform messages from Earthworm transport ring and, for each message, prints the logo and header information to the screen.
</p>
<p>
Usage: sniffwave &lt;ring name&gt; &lt;station&gt; &lt;component&gt; &lt;network&gt; [&lt;loc&gt;] &lt;y/n/s/time&gt; [v]
</p>
<pre class="wiki">       Appending the optional "v" or "verbose" argument causes module,
       installation and type names to be printed in addition to usual ID numbers

       The &lt;y/n/s&gt; flag is a data flag or 'time in seconds'. If 'y' is specified, the full data
       contained in the tracebuf or tracebuf2 packet is printed out.
       If the flag is set to s, provide max/min/avg statistics of the trace data.
       If the flag is set to some number of seconds, the program runs only for that number of seconds.

       If you specify the location code or wild for the location code
       you'll get Tracebuf2 packets. Otherwise you'll get Tracebufs.

       NEW case, only use wavering arg to get all wild cards: sniffwave WAVE_RING and further optionally put in the data flag y or s
</pre><p>
This will sniff for TYPE_TRACEBUF and TYPE_TRACE_COM_UA packets having the desired station, component and network or it will sniff for TYPE_TRACEBUF2 and TYPE_TRACE2_COM_UA if you specify also the location codes. It will report both SCN and SCNL packets if in the same ring and all filters match.
With earthworm 7.5 note that sniffwave now can just run with the ring name and it will spew all it finds in the ring.
</p>
<p>
Appending the optional "verbose" argument causes module, installation and type names to be printed in addition to usual ID numbers
</p>
<p>
Examples:
</p>
<pre class="wiki">sniffwave WAVE_RING PHOB wild NC wild n
sniffwave WAVE_RING NP1  HHZ  ZZ 01   n
sniffwave WAVE_RING wild wild wild    y verbose
sniffwave WAVE_RING
</pre><p>
This would result in the output (not consider the header in italic font style):
</p>
<pre class="wiki">     SCNL         V1   V2   P  T  N   SR                 ST                                       ET                          Q1   Q2   I   M   T    L          D       F
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 CAFE.HNZ.IV.-- (0x32 0x30) 0 s4 408 200.0 2010/06/22 14:15:55.67 (1277216155.6650) 2010/06/22 14:15:57.70 (1277216157.7000) 0x00 0x00 i73 m52 t19 len1696 [D: 6.3s F: 0.2s]
 CAFE.HNE.IV.-- (0x32 0x30) 0 s4 408 200.0 2010/06/22 14:15:55.43 (1277216155.4250) 2010/06/22 14:15:57.46 (1277216157.4600) 0x00 0x00 i73 m52 t19 len1696 [D: 6.5s F: 0.2s]
  TIP.HHZ.MN.-- (0x32 0x30) 0 s4 412 100.0 2010/06/22 14:15:53.64 (1277216153.6425) 2010/06/22 14:15:57.75 (1277216157.7525) 0x00 0x00 i73 m52 t19 len1712 [D: 6.2s F: 0.2s]
  MGR.HHZ.IV.--  overlap of   4.84s        2010/06/22 14:10:36.29 (1277215836.2900) 2010/06/22 14:10:41.13 (1277215841.1300)
  MGR.HHZ.IV.-- (0x32 0x30) 0 s4 484 100.0 2010/06/22 14:10:36.29 (1277215836.2900) 2010/06/22 14:10:41.12 (1277215841.1200) 0x00 0x00 i73 m52 t19 len2000 [D:322.9s F:20.9s]
 BLLA.EHN.IV.-- (0x32 0x30) 0 s4 404 100.0 2010/06/22 14:16:53.36 (1277216213.3600) 2010/06/22 14:16:57.39 (1277216217.3900) 0x00 0x00 i73 m52 t19 len1680 [D: 5.5s F: 0.2s]
 CDCA.EHE.IV.-- (0x32 0x30) 0 s4 336 100.0 2010/06/22 14:16:52.64 (1277216212.6400) 2010/06/22 14:16:55.99 (1277216215.9900) 0x00 0x00 i73 m52 t19 len1408 [D: 6.9s F: 7.9s]
 CIGN.HHN.IV.--  overlap of   1.00s        2010/06/22 14:16:52.67 (1277216212.6700) 2010/06/22 14:16:53.67 (1277216213.6700)
 CIGN.HHN.IV.-- (0x32 0x30) 0 s4 412 100.0 2010/06/22 14:16:52.67 (1277216212.6700) 2010/06/22 14:16:56.78 (1277216216.7800) 0x00 0x00 i73 m52 t19 len1712 [D: 6.1s F: 7.1s]
 CRAC.EHN.IV.-- (0x32 0x30) 0 s4 328 100.0 2010/06/22 14:16:54.76 (1277216214.7600) 2010/06/22 14:16:58.03 (1277216218.0300) 0x00 0x00 i73 m52 t19 len1376 [D: 4.9s F: 0.3s]
  CRE.HHZ.IV.-- (0x32 0x30) 0 s4 334 100.0 2010/06/22 14:16:55.02 (1277216215.0200) 2010/06/22 14:16:58.35 (1277216218.3500) 0x00 0x00 i73 m52 t19 len1400 [D: 4.6s F: 0.2s]
 CSNT.HHZ.IV.-- (0x32 0x30) 0 s4 378 100.0 2010/06/22 14:16:56.98 (1277216216.9800) 2010/06/22 14:17:00.75 (1277216220.7500) 0x00 0x00 i73 m52 t19 len1576 [D: 2.2s F: 0.2s]
  MGR.HHN.IV.-- (0x32 0x30) 0 s4   5 100.0 2010/06/22 14:05:37.11 (1277215537.1100) 2010/06/22 14:05:37.15 (1277215537.1500) 0x00 0x00 i73 m52 t19 len  84 [D:606.1s F:10.1s]
  MGR.HHN.IV.--      gap of   2.24s        2010/06/22 14:05:37.16 (1277215537.1600) 2010/06/22 14:05:39.40 (1277215539.4000)
  MGR.HHN.IV.-- (0x32 0x30) 0 s4 432 100.0 2010/06/22 14:05:39.40 (1277215539.4000) 2010/06/22 14:05:43.71 (1277215543.7100) 0x00 0x00 i73 m52 t19 len1792 [D:599.5s F: 0.0s]
  MGR.HHN.IV.-- (0x32 0x30) 0 s4 432 100.0 2010/06/22 14:05:43.72 (1277215543.7200) 2010/06/22 14:05:48.03 (1277215548.0300) 0x00 0x00 i73 m52 t19 len1792 [D:595.2s F: 0.0s]
 SMPL.BHZ.FR.00 (0x32 0x30) 0 s4  25  25.0 2010/06/22 14:15:39.23 (1277216139.2268) 2010/06/22 14:15:40.19 (1277216140.1868) 0x00 0x00 i73 m52 t19 len 164 [D: 3.1s F: 1.0s]
MUGIO.HHN.CH.-- (0x32 0x30) 0 s4 218 120.0 2010/06/22 14:15:40.36 (1277216140.3583) 2010/06/22 14:15:42.17 (1277216142.1666) 0x64 0x00 i73 m50 t19 len 936 [D: 1.1s F: 1.9s]
PLONS.HHE.CH.-- (0x32 0x30) 0 s4 240 120.0 2010/06/22 14:15:38.80 (1277216138.7966) 2010/06/22 14:15:40.79 (1277216140.7883) 0x64 0x00 i73 m50 t19 len1024 [D: 2.5s F: 2.1s]
  VTS.BHZ.MN.-- (0x32 0x30) 0 s4 412  20.0 2010/06/22 14:15:19.52 (1277216119.5191) 2010/06/22 14:15:40.07 (1277216140.0691) 0x00 0x00 i73 m52 t19 len1712 [D: 3.2s F:21.0s]
 SALO.HHE.IV.-- (0x32 0x30) 0 s4 224 100.0 2010/06/22 14:14:53.64 (1277216093.6400) 2010/06/22 14:14:55.87 (1277216095.8700) 0x64 0x00 i73 m51 t19 len 960 [D:48.2s F: 0.0s]
 MURB.HHZ.IV.--      gap of   2.06s        2010/06/22 14:14:24.87 (1277216064.8700) 2010/06/22 14:14:26.93 (1277216066.9300)
 MURB.HHZ.IV.-- (0x32 0x30) 0 s4 206 100.0 2010/06/22 14:14:26.93 (1277216066.9300) 2010/06/22 14:14:28.98 (1277216068.9800) 0x00 0x00 i73 m52 t19 len 888 [D:75.1s F:38.0s]
 SALO.HHE.IV.-- (0x32 0x30) 0 s4 224 100.0 2010/06/22 14:14:55.88 (1277216095
</pre><p>
where 
</p>
<pre class="wiki">SCNL	 is Station.Channel.Network.Location
V1	 is the version field 1
V2	is the version field 2
P	is the pin number (obsolete)
T	 is the sample type. "s4" means that the data is four-byte signed integers in Sparc byte order. "i4" would indicate four-byte, Intel order
N	 is the number of sample in the packet
SR	is the nominal sampling rate, as advertised by the producer of the packet
ST, ET 	 are the actual times of the first and last samples in the packet, in human readable form, and (seconds since 1970)
Q1	 is the data quality field 1
Q2	 is the data quality field 2
I	 is the ID number of the Installation
M	 is the ID number of the Module
T	 is the ID number of the Type of packet
L	 is the length of packet in bytes
D	 is the latency of the data, that is the difference between NOW and the last sample time for that SCNL
F	 is the latency of feeding, that is the difference between NOW and the time when last packet for that SCNL has been received
</pre><h2 id="HelpfulHints">Helpful Hints</h2>
</div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://earthwormcentral.com/trac/ew/wiki/sniffwave?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="http://earthwormcentral.com/trac/ew/about"><strong>Trac 0.12.4</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>