<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      startstop â€“ Earthworm
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://earthwormcentral.com/trac/ew/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://earthwormcentral.com/trac/ew/wiki/startstop?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://earthwormcentral.com/trac/ew/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/jsgantt.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/tracjsgantt.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="http://earthwormcentral.com/trac/ew/search/opensearch" title="Search Earthworm" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/tracjsgantt/jsgantt.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/ew/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://earthwormcentral.com/trac/ew"><img src="../chrome/site/images/ew.logo_tiny.png" alt="" /></a>
      </div>
      <form id="search" action="http://earthwormcentral.com/trac/ew/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://earthwormcentral.com/trac/ew/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="http://earthwormcentral.com/trac/ew/about">About Trac</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://earthwormcentral.com/trac/ew/wiki">Wiki</a></li><li><a href="http://earthwormcentral.com/trac/ew/timeline">Timeline</a></li><li><a href="http://earthwormcentral.com/trac/ew/roadmap">Roadmap</a></li><li><a href="http://earthwormcentral.com/trac/ew/browser">Browse Source</a></li><li><a href="http://earthwormcentral.com/trac/ew/query">View Tickets</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://earthwormcentral.com/trac/ew/wiki">wiki:</a><a class="pathentry" href="startstop.html" title="View startstop">startstop</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/wiki/startstop?action=history">History</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          
          <div class="trac-modifiedby">
            <span><a href="http://earthwormcentral.com/trac/ew/wiki/startstop?action=diff&amp;version=33" title="Version 33 by branden">Last modified</a> <a class="timeline" href="http://earthwormcentral.com/trac/ew/timeline?from=2011-11-16T16%3A01%3A25-08%3A00&amp;precision=second" title="2011-11-16T16:01:25-08:00 in Timeline">22 months</a> ago</span>
            <span class="trac-print">Last modified on 11/16/11 16:01:25</span>
          </div>
          <div id="wikipage"><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="startstop.html#EarthwormModule:startstop">Earthworm Module: startstop</a>
    <ol>
      <li>
        <a href="startstop.html#Function">Function</a>
      </li>
      <li>
        <a href="startstop.html#Details">Details</a>
      </li>
      <li>
        <a href="startstop.html#Interactivecommands">Interactive commands</a>
        <ol>
          <li>
            <a href="startstop.html#quit">quit</a>
          </li>
          <li>
            <a href="startstop.html#pau">pau</a>
          </li>
          <li>
            <a href="startstop.html#pidpau">pidpau</a>
          </li>
          <li>
            <a href="startstop.html#reconfigure">reconfigure</a>
          </li>
          <li>
            <a href="startstop.html#restart">restart</a>
          </li>
          <li>
            <a href="startstop.html#StartstopConsole">StartstopConsole</a>
          </li>
          <li>
            <a href="startstop.html#status">status</a>
          </li>
          <li>
            <a href="startstop.html#stopmodule">stopmodule</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="startstop.html#SolarisLinuxMacOSXversions">Solaris, Linux, Mac OS X versions</a>
      </li>
      <li>
        <a href="startstop.html#WindowsServiceversion">Windows Service version</a>
      </li>
      <li>
        <a href="startstop.html#InstructionsforRunningStartstopinBackground">Instructions for Running Startstop in Background</a>
      </li>
      <li>
        <a href="startstop.html#StartstopFileCharacteristics">Startstop File Characteristics</a>
      </li>
      <li>
        <a href="startstop.html#EarthwormNTAutostart">Earthworm NT Autostart</a>
      </li>
      <li>
        <a href="startstop.html#HelpfulHints">Helpful Hints</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="EarthwormModule:startstop"><a class="wiki" href="Earthworm.html">Earthworm</a> Module: startstop</h1>
<h2 id="Function">Function</h2>
<p>
Starts &amp; stops all EARTHWORM modules on a computer. This module is the core of the earthworm system.
</p>
<h2 id="Details">Details</h2>
<p>
This program starts and stops an Earthworm system. It reads its configuration file which specifies the message transport rings to be created, which modules are to be run, and the names of the parameter files each module is to read on startup. The program is system dependent, and there are versions available for the Linux, SUN Solaris and Windows NT operating systems.
</p>
<p>
For startstop to work, it must know about the Earthworm environment. This is typically done by setting the environment variables within the environment/ew_* file specific to your platform, and then sourcing that file, or executing the cmd if you're on Windows. Startstop typically reads its configuration file from the EW_PARAMS directory (as defined in your environment) and creates the specified rings. It then starts each module as a child process, passing its configuration file name, and any other parameters as its command line paramters (argv, argc). Each module (child process) is started with the priority indicated in startstop*.d. Note that each module and each ring specified must be definined within earthworm.d or earthworm_global.d, which should be in the EW_PARAMS directory. The system continues to run until "quit&lt;cr&gt;" is typed in startstop's command window. Startstop then sets a terminate flag in each transport ring. Each well-behaved module (child process) should periodically check for the terminate flag, and exit gracefully if is set.
</p>
<p>
Note that two copies of startstop pointing at the same startstop*.d file are not allowed to run simultaneously. The second one started will fail and quit. (If you really want to do this for some reason, you'd need to make sure that you use all different rings in the second version, different ports for the modules, and a different startstop*.d file, specified as a parameter when starting startstop.)
</p>
<p>
If the user presses the "Enter" key while the startstop command window is Selected, or enters the command "status", startstop will print a status table showing various statistics for each module, including whether it is dead or alive. If a module is dead because it could not be started (for example, the executable's name were mistyped so the executable could not be found), it will be reported as NoExec.
</p>
<p>
Startstop will also react to 'restart' messages from statmgr. This is part of a scheme wich works as follows: A module may have the token "restartMe" it its .desc file (the file given to statmgr, which tells it how to process exception conditions from that module). If its heartbeat ceases, statmgr will send a restart request to startstop. Startstop will then kill the offending module, and restart it with the same arguments as it did at startup time. There are some system specific features, listed below:
</p>
<h2 id="Interactivecommands">Interactive commands</h2>
<p>
Startstop will repond to the following commands from the status console window. There are similar command line versions (e.g., quit and pau) of each command as well.
</p>
<h3 id="quit">quit</h3>
<p>
Completely shuts down EARTHWORM and all modules/ rings. 
</p>
<p>
Within startstop:
</p>
<pre class="wiki">quit
</pre><ul><li>Starstop will send all child processes (modules) a request to quit, and will kill them if they don't quit within 30 seconds or so. It will then shut itself down.
</li><li>The command line equivalent to "quit" is called "pau".
</li></ul><h3 id="pau">pau</h3>
<p>
Completely shuts down EARTHWORM and all modules/ rings. 
</p>
<p>
Pau is invoked from the command line (provided you have the earthworm environment variables set from the appropriate script in the environment directory) by typing:
</p>
<pre class="wiki">pau
</pre><p>
OR pau can take as an argument the location of a startstop*.d file.:
</p>
<pre class="wiki">pau startstop_nt.d
</pre><ul><li>The command line equivalent of "quit". 
</li><li>Pau uses startstop's configuration file, startstop*.d to shutdown the entire Earthworm system.
</li><li>The pau command line utility sends an Earthworm TERMINATE message, which should result in the entire Earthworm system shutting down. Pau depends on the earthworm environment variables being set (from the appropriate script in the environment directory), or it depends on your giving the startstop configuration file as the one parameter.
</li></ul><h3 id="pidpau">pidpau</h3>
<p>
Given an Earthworm module process ID, pidpau stops it.
</p>
<pre class="wiki">pidpau &lt;pid&gt;
</pre><ul><li>The command line equivalent of "stopmodule".
</li><li>The pidpau command line utility requests that a Earthworm terminates the particular module associated with the pid (Process ID) you give pidpau as a parameter. The module should stop itself if it's behaving properly.
</li><li>The program attaches to earthworm's shared memory region(s) and sets the flag in the header to the given value (pid). This is intended to signal that pid to terminate gracefully.
</li><li>If one isn't specified as an optional parameter, Pidpau uses startstop's configuration file, startstop*.d to enable it to attach to the shared memory regions.
</li><li>Pidpau needs the process id (pid) of the module it's attempting to stop. You can find out the process id by getting the status from typing Enter in an interactive startstop session, or by running the 'status' command, or by looking at UNIX's process list (with ps) or by looking at Windows Task Manager with display of Process ID activated.
</li></ul><h3 id="reconfigure">reconfigure</h3>
<p>
Allows adding new modules or rings to a running Earthworm. 
</p>
<p>
Reconfigure is invoked from within startstop or from the command line (provided you have the earthworm environment variables set from the appropriate script in the environment directory) by typing:
</p>
<pre class="wiki">reconfigure
</pre><p>
OR 
</p>
<pre class="wiki">recon
</pre><ul><li>The reconfigure program sends an Earthworm TYPE_RECONFIGURE message. Startstop will then re-read the <a class="wiki" href="startstop_nt.html">startstop_nt</a>.d, <a class="missing wiki">starstop_unix?</a>.d or <a class="wiki" href="startstop_sol.html">startstop_sol</a>.d, and allocate any new rings and start up any new modules it finds in the new .d file. In the process it rereads the earthworm.d and earthworm_global.d, in the event that there have been new module IDs or new ring IDs added there.
</li><li>As the final reconfigure step, <a class="missing wiki">statmgr?</a> is restarted as well so it re-reads it's config file. Any modules that were added to startstop*.d should be added to the statmgr.d config file as well.
</li><li>Reconfigure is a command you can run from within startstop, and it also is a standalone command-line tool. The standalone tool will show you a 'status' before and after the reconfigure.rererec
</li><li>Note that modules that are already running will not be restarted and should not be affected.
</li></ul><h3 id="restart">restart</h3>
<p>
Allows manual restarting of individual modules.
</p>
<p>
Restart is invoked with the command:
</p>
<pre class="wiki">restart &lt;pid&gt; or restart &lt;module name&gt;
</pre><ul><li>The restart program sends an Earthworm TYPE_RESTART message with the specified pid(s) to startstop, for manual restarting of individual modules. The pid can be obtained from the status message printed by status. Startstop will then send the module a message to exit, and may try and kill it if it doesn't quit by itself in a certain period of time. Next startstop  will attempt to start the process back up.
</li><li>Note that the &lt;module name&gt; must be unique for this to work as an argument. The command line version can only accept the pid (Process Id) as an argument.
</li><li>The module writes the TYPE_RESTART for each pid provided into the first ring created by startstop. For this reason, the startstop file must be named as per OS naming conventions, or passed in as the second argument after a -c flag is given. 
</li></ul><h3 id="StartstopConsole">StartstopConsole</h3>
<p>
Creates a command prompt window with access to startstop_service (Windows only).
</p>
<ul><li>The StartstopConsole connects to a running instance of Windows Startstop via named pipes and creates a Windows command prompt window. It's useful when running Startstop Service, and you need to apply command line tools like "restart", "reconfigure", "status", "pidpau" or "pau".
</li></ul><ul><li>Configuration Hint: In order to get this to work on XP you need to disable the "XP Welcome screen" and disable "Fast user switching"
</li></ul><h3 id="status">status</h3>
<p>
Displays information about the status of Earthworm, including a listing of the rings and of modules.
</p>
<p>
Within startstop:
</p>
<pre class="wiki">status
</pre><ul><li>Within startstop, status can be invoked by hitting the "Enter" key
</li></ul><h3 id="stopmodule">stopmodule</h3>
<p>
Given an Earthworm module process ID, stopmodule stops it, and startstop marks it as "Stop" to prevent <a class="wiki" href="statmgr.html">statmgr</a> from restarting it.
</p>
<p>
From the command line or within startstop:
</p>
<pre class="wiki">stopmodule &lt;pid&gt; or stopmodule &lt;module name&gt;
</pre><p>
Also within startstop:
</p>
<pre class="wiki">stop &lt;pid&gt; or stop &lt;module name&gt;
</pre><p>
Use 'status' to find the PID for your module if you don't know it.
</p>
<ul><li>The stopmodule attaches to earthworm's first shared memory ring (first listed in starstop*d) and sends a TYPE_STOP message with a payload of the PID. This is intended to signal that processid to terminate gracefully.
</li><li>Startstop sees the TYPE_STOP message and will 1) request the module shut itself down gracefully; that failing it will 2) hard kill the module. Startstop will mark this module as "Stop" after it has confirmed the process is dead. Startstop will not try to start the process back up, and statmgr shouldn't try to restart it either.
</li><li><a class="wiki" href="statmgr.html">statmgr</a> sees a TYPE_STOP message and sets a it's internal restart status for that module to STOPPED. Until statmgr sees a TYPE_RESTART message for a stopped module, it should not request a restart of the module.
</li><li>Stopmodule needs the process id (PID) of the module it's attempting to stop. You can find out the process id by getting the status from typing Enter in an interactive startstop session, or by running the 'status' command, or by looking at UNIX's process list (with ps) or by looking at Windows Task Manager with display of Process ID activated.
</li><li>Note that the &lt;module name&gt; must be unique for this to work as an argument. The command line version can only accept the pid as an argument.
</li><li>If startstop is quit, and restarted (Earthworm shut down completely and then started), and you didn't manually remove the module you stopped from the startstop*.d, the previously stopped module WILL start up in the new session.
</li><li>The command-line "stopmodule" should mark the module as intentionally stopped, showing up as "Stop" in the status listing. This differes from the command line tool "pidpau" which will simply kill a module. It won't be marked as "Stop" so if statmgr is set to monitor and restart this particular module a process killed by "pidpau" will get started back up again. A module stopped by "stopmodule" should not.
</li><li>The module is stopped only for the duration that this startstop session is running! If you want to permanently stop a module, you'll also want to remove it from the startstop*d, and the statmgr.d files so it doesn't get started up next time around.
</li><li>Warning: On Solaris there's a shell command called "stop". If you accidentally type "stop &lt;pid&gt;" instead of "stopmodule &lt;pid&gt;", Solaris won't be able to stop or restart the module in question. The solution: in a unix command prompt, "kill &lt;pid&gt;", then "restart &lt;pid&gt;", then finally "stopmodule &lt;newpid&gt;"
</li></ul><h2 id="SolarisLinuxMacOSXversions">Solaris, Linux, Mac OS X versions</h2>
<ul><li>Solaris startstop reads a configuration file named <a class="wiki" href="startstop_sol.html">startstop_sol</a>.d'
</li><li>Mac OS X and Linux startstop reads a configuration file named <a class="wiki" href="startstop_unix.html">startstop_unix</a>.d'
</li><li>If a child process does not exit within a user specified time after the user types "quit&lt;cr&gt;" (or "stopmodule" or "restart"), startstop terminates the child process. Startstop will resort to a more draconian but reliable approach to quiting a module if the standard approach fails, but only if a command to do so is included in the configuration file.
</li><li>The amount of CPU time used by each child process is listed in the process status table.
</li><li>As of Version 3.0, Startstop can run in background. This modification was made by Pete Lombard at the University of Washington (see below: 'Instructions for Running Startstop in Background').
</li><li>To run Earthworm as other than root, you must set the file charateristics (see below: 'Startstop File Characteristics').
</li><li>For Mac OS X you must adjust the shared memory settings using the /etc/sysctl.conf file and rebooting. We recommend values like this:
</li></ul><pre class="wiki">kern.sysv.shmmax=16777216
kern.sysv.shmmin=1
kern.sysv.shmmni=32
kern.sysv.shmseg=16
kern.sysv.shmall=4096
</pre><h2 id="WindowsServiceversion">Windows Service version</h2>
<ul><li>Windows startstop and Windows startstop service read a configuration file named <a class="wiki" href="startstop_nt.html">startstop_nt</a>.d'
</li><li>If Windows starts up, and, for example, the binary executables for certain modules are missing or are misnamed, startstop will start up anyway. These processes will be shown with a nonexistent negative process ID, and "NoExec" as their status. If this process is restarted once the problem that caused the error has been fixed, the process ID will return to a normal ID, and the status will change to "Alive".
</li><li>Startstop can be set to start automatically when Windows boots up (see below: 'Earthworm NT Autostart'), but probably better than doing that is to set startstop as a Windows service (see below: Earthworm Windows Service). Note if you set Startstop as a Windows service you'll need to use other command line utilities like 'status' and 'restart' to monitor and control earthworm modules since there's no interface to the Startstop service. You can run StartstopConsole in order to be able to connect to the session running earthworm, if you're not logged in as administrator (see above: StartstopConsole). You'll be able to start and stop Earthworm with the Windows Services Control Panel.
</li></ul><h2 id="InstructionsforRunningStartstopinBackground">Instructions for Running Startstop in Background</h2>
<p>
To run startstop in background from the run/params directory with shells like csh, use a command like:
</p>
<p>
startstop &gt;&gt;&amp; ../log/startstop_log &amp;
</p>
<p>
This will collect the standard output and standard error from startstop AND all the modules controlled by startstop into the log file. If you don't want to save this output, you can replace "../log/startstop_log" with "/dev/null".
</p>
<p>
To get the status of Earthworm while startstop is running in background, use the Earthworm program "status". To stop a running Earthworm, use "pau". Both "status" and "pau" are used without any arguments.
</p>
<p>
NOTE: "status" and "pau" need the environment of the running Earthworm in order to communicate with it. If you change that environment, including the startstop_sol.d file, in anticipation of stopping and restarting Earthworm, then "pau" may not be able to tell the running Earthworm to shut down. If you specify an alternate command file when you run startstop, then you should also specify this command file for "status" and "pau".
</p>
<p>
Also, you should wait a few seconds after starting Earthworm before running "status", to let the Earthworm modules get going.
</p>
<h2 id="StartstopFileCharacteristics">Startstop File Characteristics</h2>
<p>
For a more secure operation Earthworm should be run by a user other than root; however, some modules need to have root permissions to set their priority. To set it up to do this you should:
</p>
<p>
Login as 'root'.
</p>
<p>
cd /home/earthworm/vX.X/bin
</p>
<p>
chown root startstop
</p>
<p>
chmod 4775 startstop
</p>
<p>
You should now be able to run earthworm without being root.
</p>
<h2 id="EarthwormNTAutostart">Earthworm NT Autostart</h2>
<p>
Following are steps needed to have earthworm (EW) start up automatically when a PC running Windows NT Workstation 4.0 boots up.
</p>
<p>
Overview of the steps:
</p>
<p>
Create new user 'earthworm'
Setup the PC so that it automatically logs in as 'earthworm' upon reboot
Setup EW so that it starts up every time user 'earthworm' logs in
Note: Selecting menu choices is denoted as follows:
</p>
<p>
Start-&gt;Programs-&gt;...
</p>
<p>
This would mean that the Start menu is to be selected first, then Programs, etc.
</p>
<p>
Details:
</p>
<ol><li>Create new user earthworm
</li><li>Click on Start-&gt;Programs-&gt;Administrative Tools-&gt;User Manager
</li></ol><p>
User manager window should come up
</p>
<p>
b.Click on User-&gt;New User
New user window should come up.
</p>
<p>
Fill in the fields:
Username:    earthworm
Password:    earthworm
</p>
<p>
Make sure that the box labeled "User Must Change Password.." is NOT checked.
</p>
<ol class="loweralpha" start="3"><li>Setup groups - click on the "Groups" Icon
</li></ol><p>
Groups window should come up
</p>
<p>
Select all groups in the right hand screen, then click Add, then click OK.
Back in the New User window, Click OK.
Back in the User Manager, Click USER-&gt;EXIT.
</p>
<ol start="2"><li>Automatic login
</li><li>Start the registry editor:
</li></ol><p>
Click on Start-&gt;Run, type  "regedt32" in the box, then click OK.
</p>
<ol class="loweralpha" start="2"><li>Registry editor window should open. Click the Window titled
</li></ol><p>
"HKEY_LOCAL_MACHINE"
</p>
<ol class="loweralpha" start="3"><li>HKEY_LOCAL_MACHINE window should come to the foreground. Double click on the following:
</li></ol><p>
Software-&gt;Microsoft-&gt;WindowsNT-&gt;CurrentVersion-&gt;WinLogon
</p>
<ol class="loweralpha" start="4"><li>Now we need to create and/or set some values in the registry in the right hand section of the window.
</li><li>AutoAdminLogon
</li></ol><p>
If the AutoAdminLogon exits:
Double click on the AutoAdminLogon field. Enter 1 in the pop up window.
</p>
<p>
If the AutoAdminLogon does not exit: From the EDIT pull down menu, Select AddValue. In the pop up window, enter "AutoAdminLogon" in the <a class="missing wiki">ValueName?</a> box.  Choose 'REG_SZ' for the data type.  Click OK. Enter 1 in the next pop up window; then click OK.
</p>
<ol class="lowerroman"><li>DefaultUserName
</li></ol><p>
Click on Edit-&gt;Add Value. A dialog box should come up. Fill in:
Value Name:    DefaultUserName   click OK, another window comes up. Fill in:
String: earthworm
Click OK.
</p>
<ol class="lowerroman"><li>DefaultPassword
</li></ol><p>
Follow the step above to add another value:
</p>
<p>
Value Name:    DefaultPassword
String:        earthworm
</p>
<p>
When all is said and done, the following values whould be listed inthe right hand window:
</p>
<p>
DefaultUserName     earthworm
DefaultPassword     earthworm
AutoAdminLogon      1
</p>
<ol class="loweralpha" start="5"><li>Click on Registry-&gt;Exit
</li></ol><ol start="3"><li>Automatic Earthworm Startup during login
</li></ol><ol class="loweralpha"><li>Restart the PC.  If everything in step 1 and 2 was done correctly, the PC will automatically log you in as earthworm.
</li></ol><ol class="loweralpha" start="2"><li>Make sure that the EW automatic startup script exists -- it should be called something like c:\earthworm\run\params\autostart_ew_nt.cmd.
</li></ol><p>
Example autostart_ew_nt.cmd:
call ew_nt.cmd
call startstop.exe
</p>
<ol class="loweralpha" start="3"><li>Click on Start-&gt;Settings-&gt;!Taskbar
</li></ol><p>
!Taskbar window should come up. Click on the "Start Menu Programs" tab.
Click on "Advanced". NT Explorer should come up.
</p>
<ol class="loweralpha" start="4"><li>By double clicking on the appropriate directories, find:
</li></ol><p>
c:\winnt\Profiles\earthworm\StartMenu-&gt;Programs-&gt;Startup
</p>
<p>
The right hand side window under Startup should be empty.
</p>
<ol class="loweralpha" start="5"><li>Create a shortcut to the EW automatic startup script: In the right hand side window, click the right button, then Select New-&gt;Shortcut.
</li></ol><p>
A new window should come up, in the box enter the full path to the autostart_ew_nt script, click NEXT, and then click FINISH.  OR click on Browse to Select the path to the script using NT Explorer, highlight the autorestart_ew_nt.cmd, click OPEN, then NEXT, and then click FINISH.  Last.  then click OK in the TaskBar window.
</p>
<p>
NOTES OF CAUTION:
</p>
<ul><li>user earthworm must have a password in order for automatic login to
work. This means that password cannot be blank.
</li></ul><ul><li>make sure that when creating user earthworm it is added to all groups,
particularly the administrator group, since earthworm will be the only
user that can log in once the registry is changed.
</li></ul><p>
CHANGING EARTHWORM VERSION AND CONFIGURATION DIRECTORY
</p>
<p>
Whenever a new version of Earthworm is installed, or a new
configuration directory is desired, the autostart script
must be updated. Basically, the file autostart_ew_nt.cmd mentioned
above consists of the main command file ew_nt.cmd (which is
located in the params directory of the current configuration),
with the addition of the startstop command which starts earthworm
automatically. Therefore, whenever ANY changes are made to
the local of the active ew_nt.cmd, the
autostart_ew_nt.cmd file should be update.
</p>
<h2 id="HelpfulHints">Helpful Hints</h2>
</div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://earthwormcentral.com/trac/ew/wiki/startstop?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="http://earthwormcentral.com/trac/ew/about"><strong>Trac 0.12.4</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>