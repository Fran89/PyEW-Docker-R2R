<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      ew2file â€“ Earthworm
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://earthwormcentral.com/trac/ew/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://earthwormcentral.com/trac/ew/wiki/ew2file?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="start" href="http://earthwormcentral.com/trac/ew/wiki" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/jsgantt.css" type="text/css" /><link rel="stylesheet" href="../chrome/tracjsgantt/tracjsgantt.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="http://earthwormcentral.com/trac/ew/search/opensearch" title="Search Earthworm" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/tracjsgantt/jsgantt.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/ew/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://earthwormcentral.com/trac/ew"><img src="../chrome/site/images/ew.logo_tiny.png" alt="" /></a>
      </div>
      <form id="search" action="http://earthwormcentral.com/trac/ew/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://earthwormcentral.com/trac/ew/login">Login</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="http://earthwormcentral.com/trac/ew/about">About Trac</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/prefs">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="http://earthwormcentral.com/trac/ew/wiki">Wiki</a></li><li><a href="http://earthwormcentral.com/trac/ew/timeline">Timeline</a></li><li><a href="http://earthwormcentral.com/trac/ew/roadmap">Roadmap</a></li><li><a href="http://earthwormcentral.com/trac/ew/browser">Browse Source</a></li><li><a href="http://earthwormcentral.com/trac/ew/query">View Tickets</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="http://earthwormcentral.com/trac/ew/wiki">wiki:</a><a class="pathentry" href="ew2file.html" title="View ew2file">ew2file</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://earthwormcentral.com/trac/ew/wiki/ew2file?action=history">History</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          
          <div class="trac-modifiedby">
            <span><a href="http://earthwormcentral.com/trac/ew/wiki/ew2file?action=diff&amp;version=2" title="Version 2 by branden">Last modified</a> <a class="timeline" href="http://earthwormcentral.com/trac/ew/timeline?from=2012-02-29T16%3A10%3A14-08%3A00&amp;precision=second" title="2012-02-29T16:10:14-08:00 in Timeline">19 months</a> ago</span>
            <span class="trac-print">Last modified on 02/29/12 16:10:14</span>
          </div>
          <div id="wikipage"><p>
</p><div class="wiki-toc">
<ol>
  <li>
    <a href="ew2file.html#EarthwormModule:ew2file">Earthworm Module: ew2file</a>
    <ol>
      <li>
        <a href="ew2file.html#Function">Function</a>
      </li>
      <li>
        <a href="ew2file.html#Details">Details</a>
        <ol>
          <li>
            <a href="ew2file.html#ExampleConfigurationFile">Example Configuration File</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="ew2file.html#HelpfulHints">Helpful Hints</a>
      </li>
    </ol>
  </li>
</ol>
</div><p>
</p>
<h1 id="EarthwormModule:ew2file"><a class="wiki" href="Earthworm.html">Earthworm</a> Module: ew2file</h1>
<p>
<strong>Contributed by: </strong>
</p>
<h2 id="Function">Function</h2>
<p>
Converts EARTHWORM messages into files (in binary form).
</p>
<h2 id="Details">Details</h2>
<p>
The ew2file program  will take any message from a ring and write it to a file in a specified directory. The Earthworm message is written verbatim (in binary form) and is thus not generally readable. It writes timestamps on the files if the packet type is one of  TYPE_PICK2K, TYPE_PICK_SCNL, or TYPE_HYP2000ARC and the TimeBasedFilename flag is set in the .d file. This module can be used in conjunction with sendfile/getfile to send messages as files. Its counterpart is <a class="wiki" href="file2ew.html">file2ew</a>.
</p>
<h3 id="ExampleConfigurationFile">Example Configuration File</h3>
<pre class="wiki">#   ew2file_generic configuration file
#
#
 MyModuleId     MOD_EW2FILE         # module id for this program
 InRing         SM_RING             # transport ring to use for input
 HeartBeatInt   30                  # EW internal heartbeat interval (sec)
 LogFile        1                   # If 0, don't write logfile
                                    # if 2, write to module log but not to
                                    # stderr/stdout .
#
# Logos of messages to export to client systems
# Each message of a given logo will be written to a file with the specified
# File Suffix at the end of the file name folloing `.'.
# Do NOT include a `.' in the suffix.
# Use as many GetMsgLogo commands as you want.
#              Installation       Module       Message Type        File Suffix
 GetMsgLogo    INST_UCB        MOD_REDI2EW   TYPE_STRONGMOTIONII     smUCB

 MaxMsgSize        512         # maximum size (bytes) for input msgs
 QueueSize         1000        # number of msgs to buffer

 TimeBasedFilename 1           # set non-zero if you want a time string in the
                               # form of "yyyymmdd-hhmmss." at the beginning of
                               # each output file. The timestring is generated from
                               # msg contents, currently possible for only msgtypes:
                               # TYPE_PICK2K, TYPE_PICK_SCNL, TYPE_HYP2000ARC

# OneFilePerMessage 1  		# an optional mode of ew2file to store all messages to a single file instead of
				# the normal one file per message. This is useful for debugging purposes, or for gathering picks

# Optional heartbeat file commands.
#----------------------------------
# Default HeartFileInt is 0 =&gt; send no heartbeat files.
# Default HeartFileMsg is "Alive".
# Default HeartFileSuffix is "hrt"
 HeartFileInt     30           # heartbeat file interval; optional
 HeartFileMsg     Alive        # string for heartbeat file; optional
 HeartFileSuffix  hrtUCB       # suffix for heartbeat files; do not include `.'

# SerialKeeper: File name where the serial number of the output files is
# stored. This should be a unique file name, in the params directory.
# If the file does not exist, ew2file will attempt to create it.
SerialKeeper  ew2file_keeper

# TempDir: Directory in which files are created. This directory must be in the
# same filesystem as all the SendDir directories. Exactly one TempDir is required.
TempDir      /home/earthworm/run/ew2file/temp

# SendDir: Directory to which output files will be moved after they have
# been created.
#  Use as many SendDir commands as you need.
# Be sure the final line is terminated with a newline.
SendDir      /home/earthworm/run/ew2file/Menlo
SendDir	     /home/earthworm/run/ew2file/CGS
SendDir	     /home/earthworm/run/ew2file/Pas
</pre><h2 id="HelpfulHints">Helpful Hints</h2>
</div>
        
        
      </div>
      

    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="http://earthwormcentral.com/trac/ew/wiki/ew2file?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="http://earthwormcentral.com/trac/ew/about"><strong>Trac 0.12.4</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>